/* eslint-disable spaced-comment */
(function() {
  'Copyright Â© 2013-2019 Confiant Inc. All rights reserved.';
  'v3.202003301902';
  var g=window;function confiantAutoRFCb(t,e,n,r,o,i){if(n&&i){var a=confiantTryToGetConfig((i.dfp?"gpt":i.prebid&&"prebid")||i.ast&&"ast");if(!a.isAR)return;if(a.arC="number"==typeof a.arC&&NaN!==a.arC?a.arC:3,g.confiantRefreshSlots=g.confiantRefreshSlots||{},i.dfp||i.prebid){var s=(i.dfp||i.prebid).s;if(g.confiantRefreshSlots[s]=g.confiantRefreshSlots[s]||0,g.confiantRefreshSlots[s]<a.arC){var f=function(t){for(var e=g.googletag.pubads().getSlots(),n=0,r=e.length;n<r;++n){var o=e[n];if(o.getSlotElementId()===t)return o}return null}(s);if(g.googletag){var c=window[a.prebidNameSpace];if(i.prebid&&((d=c)&&d.que&&d.requestBids&&d.setTargetingForGPTAsync)){function l(){g.confiantRefreshSlots[s]+=1,c.requestBids({timeout:1e4,adUnitCodes:[s],bidsBackHandler:function(){c.setTargetingForGPTAsync([s]),g.googletag.pubads().refresh([f])}})}2==a.devMode?setTimeout(l,Math.ceil(1e4*Math.random())):c.que.push(l)}else g.googletag.pubads().refresh([f]),g.confiantRefreshSlots[s]+=1}else console.log("Confiant slot auto refresh can not be completed. No googletag object found.")}}if(i.ast){var u=i.htmlid||i.placementElementId;g.confiantRefreshSlots[u]=g.confiantRefreshSlots[u]||0,g.confiantRefreshSlots[u]<a.arC&&(i.refreshAd(),g.confiantRefreshSlots[u]+=1)}}var d}function confiantTryToGetConfig(t){var e,n,r,o,i=document.currentScript?document.currentScript.getAttribute("id"):function(){try{throw new Error}catch(t){for(var e=function(t){return t.sourceURL?t.sourceURL:t.fileName?t.fileName:t.stack.split("\n").filter(function(t){return 0<=t.indexOf("http")})[0]}(t),n=document.querySelectorAll("script"),r=[],o=0,i=n.length;o<i;++o)n[o].src&&0<=e.indexOf(n[o].src)&&r.push(n[o]);return 1===r.length?r[0].getAttribute("id"):null}}(),a=window.confiant;if(a&&(o=i,n=(r=a)&&o&&r[o]?a[i].settings:a.settings),n){if(!n.callback)try{e=window.top.confiant,n.callback=e.settings.callback}catch(t){}return n}if(window._clrm&&window._clrm[t])return window._clrm[t];throw new Error("Confiant failed to init: no configuration is provided. Please contact us at support@confiant.com")}
  var config = confiantTryToGetConfig();
  config.cdt_version=config.cdt_version||"202003301902";var bucket=config.cdt_version+"/wrap.js",fastlyBaseUrl="https://confiant-integrations.freetls.fastly.net/cdt/";config.adMap=config.adMap||{};var clientReportingHash="#audit";function locationHasChanged(){~window.location.hash.indexOf(clientReportingHash)&&!config.wasDiagnosticToolActivated&&(config.wasDiagnosticToolActivated=!0,getDiagnosticTool())}function getDiagnosticTool(){var t=fastlyBaseUrl+bucket,a=document.createElement("script");a.src=t,document.getElementsByTagName("head")[0].appendChild(a)}config.hashListenerAttached||window.addEventListener("hashchange",locationHasChanged,!1),config.hashListenerAttached=!0,config.wasDiagnosticToolActivated=config.wasDiagnosticToolActivated||!1,window.addEventListener("message",function(t){if(t.data.includes&&t.data.includes("diagnostic_tool_context"))try{var a=t.data.replace("diagnostic_tool_context","");a=JSON.parse(a),config["adMap"][a.s]=a}catch(t){console.log("Confiant:"+t)}});
  function confiantWrap(a,b,c,d,e,f,g){'v2.202003301902';function h(a){for(var b in l)if(b===a&&l[b])return l[b];return null}function i(a){if("string"!=typeof a)return a;var b=a.match(/[^\u0000-\u024F\u1E00-\u1EFF\u2C60-\u2C7F\uA720-\uA7FF]/g);if(!b)return a;for(var c=0;c<b.length;c++)a=a.replace(b[c],encodeURIComponent(b[c]));return a}function j(a){return a=i(a),(s(a)||"")[y]("/","_")[y]("+","-")}function k(b,c,e,g){var h=D+t(b)+"&d="+c,i="err__"+1*new Date;q[i]=g;var j="<"+w+' type="text/java'+w+'">window["'+d+'"]={};'+'window["'+d+'"]["tpid"]="'+b+'";'+'window["'+d+'"]["'+b+'"]='+r.stringify(e)+";"+"</"+w+">",k="<"+w+" on"+z+'="void('+i+'())" '+x+'="'+h+'" type="text/java'+w+'" ></'+w+">";f&&(k="<"+w+" on"+z+'="void('+i+'())" '+'" type="text/java'+w+'" >'+unescape(f)+"</"+w+">"),a[B](j+k)}var l=b.adserverTargeting,m=b.bidder,n=null,o=b.size;g=g||{},f=f||null;var p=g.devMode,q=a.parentWindow||a.defaultView,r=q.JSON,s=q.btoa,t=q.encodeURIComponent;if(!r||!s)return!1;var u="t",v="i",w="script",x="src",y="replace",z="error",A="stringify",B="wr"+v+u+"e";c.indexOf("http")<0&&(c="https://"+c);var C,D=c+"/?wrapper="+t(d)+"&tpid=";C=h("oz_winner")||"ozone"===m?{k:{hb_bidder:[h("oz_winner")],hb_size:[o]}}:{k:{hb_bidder:[m],hb_size:[o]}};var E=!1,F=!(!window._clrm||!window._clrm.gpt),G=!(!window.confiant||!window.confiant.settings),H=window.confiant||window._clrm||{};return F||G||H.isListener||(H.isListener=!0,function(){function a(a){var b="cb";if("string"==typeof a.data&&a.data.indexOf(b+d)>-1){var c=a.data.substr(b.length+d.length),f=atob(c),g=window.JSON.parse(f);try{e.apply(this,g)}catch(a){console.log("Custom callback failed with an error: "+a)}"undefined"!=typeof confiantAutoRFCb&&confiantAutoRFCb.apply(null,g)}}if(window.addEventListener)try{window.top.addEventListener("message",a,!1)}catch(b){window.addEventListener("message",a,!1)}else window.top.attachEvent("onmessage",a)}()),function(){try{n=j(d+"/"+C.k.hb_bidder[0]+":"+C.k.hb_size[0]);var c={wh:n,wd:r.parse(r[A](C)),wr:0};2===p&&(c.cb=1e3*Math.random());var f={prebid:{adId:b.adId,cpm:b.cpm,s:b.adUnitCode},tp_crid:b.creativeId},h=!1;try{h=!!q.frameElement.getAttribute("data-forced-sandbox")}catch(a){}var i={d:c,t:escape(b.ad),isE:!0,cb:e,id:f,isFSb:h,devMode:p,isPerf:g.isPerf};k(n,j(r[A](c)),i,function(){a[B](b.ad)})}catch(a){E=!0;var c={property_id:d,uh:n||"wt_not_established",url:window.location.href||window.top.location.href||document.url||"url not found",label:"confiantWrap_initialize",msg:a.message},l=new XMLHttpRequest;l.open("POST","https://protected-by.clarium.io/werror",!0),l.send(s(r.stringify(c)))}}(),a.close(),!E}
  var Caspr=function(l,e,u,p,t){this.CONSTANTS={MATCHING_STYLE_1:1,MATCHING_STYLE_2:2,MATCHING_STYLE_3:3,MATCHING_STYLE_4:4},this.log_sample=void 0===l.ls||l.ls,this.rules=("string"==typeof l&&l.length&&(l=JSON.parse(atob(l))),l&&l.m?l.m:[]),this.masterReset=!0,this.cmpPrivacyString=null,"rs"in l&&(this.masterReset=l.rs),this.frames=[],this.cajsPresent=!1,this.tagSource=e||"",this.trackers=["iframe","object","a"],this.hasBeenUndone=!1,this.adserverDomain="/* @echo DOMAIN */",this.submitEndpoint="/log",this.targetId=null,this.prefixedTpid=u&&""!==u?u:null,this.submitted=!1,this.doneWithSandbox=!1,this.version=l.v?l.v:0,this.window=window,this.replaceWithHTML=null,this.isDfpOnPageIntegration=!1,this.isForcedSandboxing=!1,this.inAppSuccessCallback=null,this.devMode=0,this.supportLandingPageBlocking=!1,this.isAst=!1,this.isSSP=!1,this.isIEorEdgeorFF=window.navigator.userAgent.match(/(Trident\/7.0)|(edge|Firefox)/i),this.isLoadEventFired=!1;var A=this.shouldMonitorAllNestedFrames=!1,o=.0025,s=.05,i=.5,d=.0025,f=[],c=!1,g=9,n="7GPxwkHfdSwn-OphtKZwIPivffk";t&&(this.adserverDomain=t),this.wrapperArg=p,this.wrapper=p,this.errors=[],this.blockingData=null,this.do_undo=void 0===l.du||!!l.du,this.replace=void 0!==l.re?unescape(l.re):"",this.backupFunctions={},this.targetId=p&&p.uniqueHash&&0<p.uniqueHash.length?p.uniqueHash:u,this.dom={findings:[],parentHTML:"",getRootElement:function(){return document.body},walkTheDOM:function(e,t){for(t(e),e=e.firstChild;e;)this.walkTheDOM(e,t),e=e.nextSibling;return this.parentHTML},traverseAd:function(e){if(e){var n=this;return this.parentHTML=e.outerHTML,this.walkTheDOM(e,function(e){if(1==e.nodeType){if(e.contentWindow)try{var t=e.contentWindow.document.getElementsByTagName("html")[0],i=t&&t.innerHTML||"";n.parentHTML=n.parentHTML.replace(e.outerHTML,"<head></head><body></body>"==i?e.outerHTML:e.outerHTML.replace("</iframe>",i+"</iframe>"))}catch(e){M(e)||E(e,{label:"traverseAd"})}}else if(3===e.nodeType)e.data.trim();else try{e.outerHTML&&~e.outerHTML.indexOf("Caspr")&&(this.parentHTML=this.parentHTML.replace(e.outerHTML,""))}catch(e){E(e,{label:"traverseAd_2"})}})}}},this.findContextForTpid=function(i,e){var t,n=function(){var e=0<Object.keys(window[i]).length?Object.keys(window[i]):null;if(!e)return null;for(var t=0;t<e.length;t++)if("tpid"!=e[t])return e[t];return null}(window);if(!n)throw Error("Unable to find confiant context object. Please contact support@confiant.com.");return t=window[i][n],window[i][e]=t},this.wrapper={PAYLOAD_KEY:"d",TAG_KEY:"t",_data:{},augmentRequest:function(e){return(e=e||{}).wr=this._data.wr,e.wh=this._data.wh,e.wd=this._data.wd,e},init:function(e){var t=e.findContextForTpid(u,"%%TP_IDENTIFIER%%");t.u=1*new Date,this._data=t[this.PAYLOAD_KEY],e.tagSource=t[this.TAG_KEY],t.isE&&(e.tagSource=unescape(e.tagSource),e.isDfpOnPageIntegration=!0),this._tag=e.tagSource,e.isSafeFrame=t.isSfrm,e.isSandboxedSafeframe=t.isSfrm&&t.isSb,e.isForcedSandboxing=t.isFSb,e.inAppSuccessCallback=t.successCallback,e.devMode=t.devMode||0,e.isSSP=t.isSSP,e.cmpPrivacyString=t.cmpString||null}},this.creativeWrapper={init:function(e){var t=e.findContextForTpid(p.uniqueHash,p.tpIdentifier);t.u=1*new Date,e.tagSource=t.t,t.isE&&(e.tagSource=unescape(e.tagSource),e.isDfpOnPageIntegration=!0);var i=p.uniqueHash;"function"!=typeof t.cb&&(t.cb=null),e.cb=t.cb?t.cb:function(){try{window.top.postMessage("cb"+i+btoa(JSON.stringify(Array.prototype.slice.call(arguments))),"*")}catch(e){window.parent.postMessage("cb"+i+btoa(JSON.stringify(Array.prototype.slice.call(arguments))),"*")}},e.id=t.id?t.id:null,e.isSafeFrame=t.isSfrm,e.isSandboxedSafeframe=t.isSfrm&&t.isSb,e.isForcedSandboxing=t.isFSb,e.inAppSuccessCallback=t.successCallback,e.devMode=t.devMode||0,e.shouldSupportLandingPageBlocking=t.isAST||2==t.devMode,e.isAst=t.isAST,e.isSSP=t.isSSP,e.shouldUsePerformanceModule=!!t.isPerf||2==t.devMode,e.cmpPrivacyString=t.cmpString||null}};var r,a,h=["aW1nLnR1cm5jZG4uY29t","cG0tbm90aWZpY2F0aW9ucy5jb20=","c3RvcmFnZS5nb29nbGVhcGlzLmNvbQ==","ZS1wbGFubmluZy5uZXQ=","Y29uZmlhbnRfdGVzdF8xMjMxMDE=","aW5kZXhPZg=="];r=h,a=156,function(e){for(;--e;)r["push"](r["shift"]())}(++a);var m=function(e){var t=h[e-=0];void 0===m["initialized"]&&(function(){var t;try{t=Function("return (function() "+'{}.constructor("return this")( )'+");")()}catch(e){t=window}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t["atob"]||(t["atob"]=function(e){for(var t,i,n=(e+"")["replace"](/=+$/,""),r=0,o=0,s="";i=n["charAt"](o++);~i&&(t=r%4?64*t+i:i,r++%4)&&(s+=String["fromCharCode"](255&t>>(-2*r&6))))i=a["indexOf"](i);return s})}(),m["base64DecodeUnicode"]=function(e){for(var t=atob(e),i=[],n=0,r=t["length"];n<r;n++)i+="%"+("00"+t["charCodeAt"](n)["toString"](16))["slice"](-2);return decodeURIComponent(i)},m["data"]={},m["initialized"]=!0);var i=m["data"][e];return void 0===i?(t=m["base64DecodeUnicode"](t),m["data"][e]=t):t=i,t},w={},v=m("0x0"),b=m("0x1"),S=m("0x2"),_=m("0x3"),y=m("0x4");function T(){var e,t="undefined"!=typeof InstallTrigger;return!/constructor/i.test(window.HTMLElement)&&""+(!window["safari"]||"undefined"!=typeof safari&&safari.pushNotification)!="[object SafariRemoteNotification]"||(e="safari"),t&&(e="firefox"),window.chrome&&(window.chrome.webstore||window.chrome.runtime)&&(e="chrome"),e||(~navigator.userAgent.indexOf("Safari")&&(e="safari"),~navigator.userAgent.indexOf("FireFox")&&(e="firefox"),~navigator.userAgent.indexOf("Chrome")&&!~navigator.userAgent.indexOf("Edge")&&(e="chrome")),e}function M(e){return e.message&&e.message.match(/(Blocked a frame)|(Permission denied)|(Access is denied)|(Acceso denegado)|(Acesso negado)(Autorizzazione negata)|(Zugriff verweigert)|(Ingen tilgang)|(Toegang geweigerd)|(Erlaubnis verweigert)/i)}function x(e,t){return e.test(t)}w[v]=.05,w[b]=.05,w[S]=.05,w[_]=.05,w[y]=1,this.prebidIeAndEdgeFix=function(){try{var d=document,c=this;d.open=(h=document.open,function(e,t){var i,n,r;try{r=c.findContextForTpid(i=p.uniqueHash,n=p.tpIdentifier)}catch(e){E(e,{label:"prebidIeAndEdgeFixTest"})}var o=h.call(this,e,t);try{if(delete d.write,delete d.open,i&&n&&r){r.t="\x3c!-- tag --\x3e";var s="var Caspr = "+Caspr+";\n",a="new Caspr("+JSON.stringify(l)+', null, "'+u+'",'+'{"uniqueHash":"'+i+'","tpIdentifier":"'+n+'"},'+'"'+c.adserverDomain+'")';o.defaultView[i]={},o.defaultView[i]["tpid"]=n,o.defaultView[i][n]=JSON.parse(JSON.stringify(r)),o.defaultView.eval(s),o.defaultView.eval(a)}}catch(e){E(e,{label:"prebidIeAndEdgeFixTest_2"})}return o})}catch(e){E(e,{label:"prebidIeAndEdgeFixTest_3"})}var h},this.performanceSubmitted=!1,this.performanceLogging=function(){try{if(!this.shouldUsePerformanceModule||!(Math.random()<=d||2==this.devMode))return;if(!this.performanceSubmitted&&window.performance){this.performanceSubmitted=!0;var e=this.adserverDomain+"/p",t=window.sf_||window.$sf?document.referrer:window.location.href,i=window.performance,n=i.getEntries(),r=JSON.parse(JSON.stringify(i));if(window.performance.memory){var o=window.performance.memory;r.m={jsHeapSizeLimit:o.jsHeapSizeLimit,totalJSHeapSize:o.totalJSHeapSize,usedJSHeapSize:o.usedJSHeapSize}}var s=btoa(JSON.stringify({p:r,pe:n,ts:(new Date).getTime(),id:this.id,r:t,pid:this.getPropertyId()}));if(navigator.sendBeacon)navigator.sendBeacon(e,s);else{var a=new XMLHttpRequest;a.open("POST",e),a.send(s)}}}catch(e){E(e,{label:"performanceLogging"})}}.bind(this),this.init=function(){var r=this,e=!p||p&&!p.tpIdentifier;function t(e){if(r.do_undo){if(window.Caspr=void 0,caspr=void 0,r.hasBeenUndone)return;r.casprize(!0),r.hasBeenUndone=!0}var t="unload"===e.type;r.isLoadEventFired=r.isLoadEventFired||"load"===e.type,t&&!r.isLoadEventFired&&(o=s);var i=window.forceTestSampleLogging||r.isSSP&&2==r.devMode;if(!r.submitted&&r.log_sample&&(Math.random()<=o||i)){var n=r.dom.traverseAd(r.dom.getRootElement());r.blockingData={html:n||null,ar:"",r:!1,oi:null,ot:null,tag:r.tagSource,v:r.version},r.submitFindings(r.isSafeFrame,t,!1,r.isLoadEventFired,!1)}}if(c="mOinGM9MTu5v-Lto835XLhlrSPY"==this.getPropertyId(),window.addEventListener("unload",this.performanceLogging),window.addEventListener("message",function(e){if("string"==typeof e.data&&~e.data.indexOf("getDomDump")){var t=e.data.replace("getDomDump","");t=JSON.parse(t);var i={domdata:this.dom.traverseAd(this.dom.getRootElement())},n=Object.assign({},t,i);console.log("diagnostic_tool_domdump",n),e.source.postMessage("diagnostic_tool_domdump"+JSON.stringify(n),"*")}}.bind(this)),setTimeout(this.performanceLogging,5e3),"complete"===document.readyState&&setTimeout(function(){r.isSSP&&t({type:"load"})},0),window.addEventListener("load",function(){t({type:"load"})}),window.addEventListener("unload",t),e&&this.wrapper.init(this),e||this.creativeWrapper.init(this),this.isIEorEdgeorFF&&this.prebidIeAndEdgeFix(),this.casprize(!1),this.tagSource&&(o=function(e){for(var t in w){var i=t;if(-1<e[m("0x5")](i))return w[t]}return o}(this.tagSource)),this.isSSP&&(o=i),this.isSafeFrame=this.isSafeFrame||!1,this.isSafeFrame)try{this.createPatchFunction(this.patchArguments[0],this.patchArguments[1],this.patchArguments[2])([this.tagSource],!0)}catch(e){E(e,{label:"safeframe-scan"})}else document.write(this.tagSource);this.postAPIEvent("confiantSlotRenderEnded")},this.setRules=function(e){this.rules="object"==typeof e?e:[e]},this.getRules=function(){return this.rules},this.isCompanyNameSortable=function(){return!!this.getPropertyId().match(/(trB5nelTxsjRl85E7hL4Y1GisKY)|(Lc8WgUx65bylj2bqLTKmzFAUpoE)|(9NcWcY5ZLLLrnRYyfpvRGtJ-zMk)|(qjvXa44Qfwp61in_jX9wKlFbhJw)|(OJGRTp4tj6uR9AWNMp5iV7bNAaQ)/)},this.submitFindings=function(e,t,i,n,r){if("undefined"!=typeof XMLHttpRequest&&!this.submitted){this.submitted=!0;var o=this.isCompanyNameSortable(),s=3==this.devMode,a=window.sf_||window.$sf?document.referrer:window.location.href,d={};d.u=a,d.logs=this.errors,this.blockingData&&(d.bd=this.blockingData),d.e=i?"b":t?n?"u":"uu":"l",i||d.bd.html&&(d.bd.html+="\n\x3c!-- e:"+d.e+" --\x3e"),this.prefixedTpid&&(d.uh=this.prefixedTpid),d.id=this.id,this.cmpPrivacyString&&(d.id.consent=this.cmpPrivacyString),(d=this.wrapper.augmentRequest(d)).tt="w";var c=this.adserverDomain+this.submitEndpoint,h=(d.tt="t","\x3c!-- html is too large --\x3e"),l=window.navigator,u=!(!t&&!o||!l||!l.sendBeacon),p=!u&&e,f=u&&!p;try{var g=null;try{g=btoa(unescape(encodeURIComponent(JSON.stringify(d))));var m=4e4;f&&m<g.length&&(d.bd.html=d.bd.html||"",m<d.bd.html.length&&(d.bd.html=d.bd.html.substr(d.bd.html.length-m)),d.bd.ar=h,d.bd.tag=h,g=btoa(unescape(encodeURIComponent(JSON.stringify(d)))))}catch(e){E(e,{label:"submitFindings",isFailedToEncode:!0}),d.bd&&(d.bd.html=h,d.bd.ar=h,d.bd.tag=h),g=btoa(unescape(encodeURIComponent(JSON.stringify(d))))}if(!s)if(p){var w=btoa(JSON.stringify({sendUrl:c,payload:g,slotId:this.id,replaceWith:this.replaceWithHTML}));try{window.top.postMessage("comm"+this.targetId+w,"*")}catch(e){window.parent.postMessage("comm"+this.targetId+w,"*")}}else u?l.sendBeacon(c,g):(v=c,b=g,(S=new XMLHttpRequest).onerror=function(e){E(Error("log endpoint failed"),{label:"submitFindings:ajax",error:e?""+e:"na"})},S.open("POST",v,!1),S.send(b));d.bd.ot&&this.cb&&!r&&this.cb(d.bd.ot,d.bd.oi,this.blockingData.r,this.wrapper.uniqueHash,this.wrapper.tpIdentifier,this.id,A)}catch(e){E(e,{label:"submitFindings_2"})}}var v,b,S},this.postAPIEvent=function(t){var e=(""+(new Date).getTime()).split("").reverse().join(""),i=0,n=btoa(Math.ceil(1e4*Math.random())+"cOmM"+e),r={propertyId:this.wrapper?this.wrapper.uniqueHash:this.targetId,tagId:this.wrapper?this.wrapper.tpIdentifier:"",impressionData:this.id},o=function(e){e.data&&e.data.id===n&&(i=100,window.removeEventListener("message",o))},s=function(e){3<=i||(window.top.postMessage({eventType:t,details:r,id:n},"*"),i++,e&&setTimeout(s,500))};window.addEventListener("message",o),s(this.isDfpOnPageIntegration)},this.getPropertyId=function(){return(this.wrapperArg?this.wrapperArg.uniqueHash:this.targetId)||this.prefixedTpid||""},this.casprize=function(t,i){i=i||this;var e=this;try{var n={},r=!1,o=!1,s=!1,a="OX",d=e.tagSource||"";try{var c=this.getPropertyId(),h="DrYtG2OzEhl4i3tZ5nWGN7jdUdU"===c;n=window.top,s=!!d.match(/(ad_iframe)|(sandAdm)/)||h,o=(o=!!~d.indexOf(a))||r&&!!n[a],r=!!(d.match(/(adb.auction\()|(listenAdFromPrebid)|(listenForAdFromPrebid)|(AdGlare)|(sonobi.com)|(roimediaconsultants.com)|(adnxs\.com\/mediation)|(prebid-universal-creative)|(smartadserver.com)|(gumgum.com)|(adtelligent.com)|(ix_ht_render_adm)|(openx.net)|(onetag)|(apstag)/)||L()||n.rubicontag||n[a])}catch(e){~e.message.indexOf("origin")||~e.message.indexOf("Permission")||E(e,{label:"casprize"})}try{this.shouldMonitorAllNestedFrames="C-8aLarw5k-v1_-pKNB78bTSSJA"===c||s||4==this.devMode,r=this.shouldMonitorAllNestedFrames||r}catch(e){E(e,{label:"casprize_2"})}t?t&&e.unpatchNode():(r&&e.patchNodeMethod("appendChild",i.window),s&&e.patchDocumentMethod.call(e,"getElementById",i.window),o&&e.patchNodeMethod("replaceChild",i.window));for(var l=0;l<this.rules.length;l++){var u,p;if(t?(0<e.devMode&&console.info("Un-patching!"),p=this.backupFunctions,u=i.window,this.doneWithSandbox=!0):(0<e.devMode&&console.info("Patching!"),u=this.backupFunctions,p=i.window),void 0===this.rules[l].f&&(this.rules[l].f="write"),""!=this.rules[l].f){if(void 0===this.rules[l].h)this.rules[l].h="document";else if(""==this.rules[l].h)continue;if("window"!=this.rules[l].h?(t||u[this.rules[l].h]||(u[this.rules[l].h]={}),u[this.rules[l].h][this.rules[l].f]=p[this.rules[l].h][this.rules[l].f]):(t||u[this.rules[l].h]||(u[this.rules[l].h]={}),t?u[this.rules[l].f]=p[this.rules[l].h][this.rules[l].f]:u[this.rules[l].h][this.rules[l].f]=p[this.rules[l].f]),t)this.hasBeenUndone=!0;else if(this.patch(this.rules[l],l,i),("write"==this.rules[l].f||"writeln"==this.rules[l].f)&&"document"==this.rules[l].h){var f="write"==this.rules[l].f?"writeln":"write",g={r:this.rules[l].r,h:this.rules[l].h,f:f};t||u[this.rules[l].h]||(u[this.rules[l].h]={}),u[this.rules[l].h][f]=p[this.rules[l].h][f],this.patchArguments=[g,l,i],this.patch(g,l,i)}}}}catch(e){var m=i==this;M(e)&&!m||E(e,{label:m?"casprize_3_1":"casprize_3_2"}),t||this.casprize(!0)}},this._complete_blocking=function(e,t,i,n,r,o){if(!t.r[i]||!t.r[i].l[n])return e;var s,a="";s=this.dom.getRootElement(),a=(a=this.dom.traverseAd(s))+(0<f.length?"\n\x3c!-- nested frame state --\x3e\n"+f.join("\n"):"")+"\n\x3c!-- violation detected --\x3e\n"+e;var d=t.r[i].l[n],c=!1;"rs"in d&&(c=d.rs),this.masterReset||(c=!1),this.blockingData={html:a||null,ar:o,r:c,oi:!!d.oi&&d.oi,ot:!!d.ot&&d.ot,tag:this.tagSource,v:this.version};var h=this.isBlockingRuleShadow(d);h||(this.replaceWithHTML="re"in d&&""!==d.re?d.re:this.replace),this.submitFindings(r,!1,!0,this.isLoadEventFired,h);var l=null;return c&&!d.isSb&&(d.ot!==g&&this.casprize(!0),l=this.isBlockingRuleShadow(d)?null:this.replaceWithHTML),{replaceWithHtml:l,shouldBlock:c}},this._is_match=function(e,i,t,n){if(!i)return!1;function r(e){var t=i[0|e];return""==t||d.test(t)}e instanceof Array||(e=[e]);var o,s,a="",d=RegExp(n?"[^a-zA-Z0-9-_]":"[^a-zA-Z0-9]"),c=-1,h=-1,l=!1;if(t===this.CONSTANTS.MATCHING_STYLE_4)return RegExp(a=e[0]).test(i);for(var u=0;u<e.length;u++){if(h=i.indexOf(a=e[u],c),1==this.devMode)return!0;if(!(l=-1<h))return!1;if(o=h-1,s=h+a.length,t===this.CONSTANTS.MATCHING_STYLE_2?l=l&&(r(o)||!(!this.shouldSupportLandingPageBlocking||!n)&&(0<=o-3?"F"==i[o]&&"2"==i[o-1]&&"%"==i[o-2]:void 0))&&r(s):t===this.CONSTANTS.MATCHING_STYLE_1&&(l=l&&r(s)),!l)return!1;c=s}return!0},this.patchNodeMethod=function(e,t){try{var o=this,s=t.Node.prototype[e];t.Node.prototype[e]=function(e){var t=e.src||"",i=e&&"IFRAME"===e.tagName,n=i&&(!~t.indexOf("https://")&&!~t.indexOf("http://")||!!~t.indexOf("//"+window.location.hostname));i&&!n&&e.src&&o.shouldMonitorAllNestedFrames&&o.createPatchFunction(o.patchArguments[0],o.patchArguments[1],o.patchArguments[2])([e.outerHTML],!0),!n||o.isIEorEdgeorFF||o.shouldMonitorAllNestedFrames||(e.onload=function(){try{e.contentWindow&&o.casprize(!1,e.contentWindow)}catch(e){M(e)||E(e,{label:"patchNodeMethod"})}});var r=s.apply(this,arguments);try{e.contentDocument&&(e.contentDocument.open=o.overloadDocumentOpen(e.contentDocument.open,e))}catch(e){M(e)||E(e,{label:"patchNodeMethod_2"})}return r},t.Node.__cspr__=Node.__cspr__||[],t.Node.__cspr__.push([e,s])}catch(e){M(e)||E(e,{label:"patchNodeMethod_3"})}},this.unpatchNode=function(){if(Node.__cspr__){for(var e=Node.__cspr__,t=e.length,i=0;i<t;i++)Node.prototype[e[i][0]]=e[i][1];delete Node.__cspr__}},this.patchDocumentMethod=function(t,e){try{var i,n=e.document,r=this,o=e.document[t];n[t]=function(e){return~["ad_iframe","sandAdm"].indexOf(e)&&"getElementById"===t?(i=o.call(n,e)).contentWindow.document.open=r.overloadDocumentOpen(i.contentWindow.document.open,i):i=o.call(n,e),i}}catch(e){E(e,{label:"patchDocumentMethod"})}},this.overloadDocumentOpen=function(s,a){var d=this;return function(e,t){if(c||2==d.devMode)try{var i=a.contentDocument.head.outerHTML,n=a.contentDocument.body.outerHTML;i.length<=13&&(i=""),n.length<=46&&(n="");var r=i+n;0<r.length&&f.push(r)}catch(e){M(e)||E(e,{label:"overrideOpenDoc_1"})}var o=s.call(this,e,t);try{(d.isIEorEdgeorFF||d.shouldMonitorAllNestedFrames||d.shouldOverloadDocumentOpen)&&(delete a.contentDocument.write,delete a.contentDocument.open,d.casprize(!1,a.contentWindow))}catch(e){M(e)||E(e,{label:"overrideOpenDoc_2"})}try{O(a)}catch(e){M(e)||E(e,{label:"overrideOpenDoc_3"})}return o}},this.isBlockingRuleShadow=function(e){return e&&e.ot==g},this.createPatchFunction=function(_,e,y){var T=this,M="";return function(e,t){try{var i={},n=y.window[_.h][_.f].arguments,r=t?e:n;if(!r||0===r.length)return;if("setTimeout"!=_.f&&"setInterval"!=_.f&&"onload"!=_.f){var o=_.r,s=null,a=window.sf_||window.$sf?(v=(w=document.referrer).indexOf("//"),b=w.indexOf("/",v+2),S="",-1<v&&(b<0&&(b=w.length),S=w.substr(v+=2,b-v)),S):window.location.hostname,d=r[0];if(n&&1<n.length){d="";for(var c=0;c<n.length;c++)d+=n[c]}var h=d=M+d;if(d&&d.match(/bidswitch.net/gi)){var l=h.replace(/_R/g,"=");h=(l=l.replace(/_B/g,"/"))+d}for(c=0;c<o.length&&!(d.length<10);c++){var u=T.CONSTANTS.MATCHING_STYLE_2;if(o[c].l&&0<o[c].l.length&&6===o[c].l[0].ot&&(u=T.CONSTANTS.MATCHING_STYLE_3,"r"===o[c].l[0].m&&(u=T.CONSTANTS.MATCHING_STYLE_4)),T._is_match(o[c].d,h,u,!0)&&!~a.indexOf(o[c].d)){for(var p=!1,f=0;f<o[c].l.length;f++){var g=o[c].l[f],m=g.s?g.s:[];if(r[0]&&"string"==typeof r[0]&&(0===m.length&&2!=g.ot||T._is_match(m,h,T.CONSTANTS.MATCHING_STYLE_1,!1))){if(s="Found suspicious reference to: "+o[c].d+"?"+m.join("&"),console.error(s),T.errors.push(s),i=T._complete_blocking(d,_,c,f,t,window[_.h][_.f].arguments),!T.isBlockingRuleShadow(g)){i.shouldBlock&&(r[0]=i.replaceWithHtml||""),p=!0;break}p=T.submitted=!1}}if(p)break}}t&&p&&i.shouldBlock?window.location.replace("about:blank"):t||(T.backupFunctions[_.h][_.f].apply(this,r),M=d)}A||i.shouldBlock||(A=!0)}catch(e){E(e,{label:"createPatchFunction"}),T.casprize(!0)}var w,v,b,S}},this.patch=function(e,t,i){i=i||this,"window"==e.h&&(toPatch=i.window[e.f]),toPatch=this.createPatchFunction(e,t,i),"window"==e.h?i.window[e.f]=toPatch:i.window[e.h][e.f]=toPatch},this.getSandboxingCode=function(){var t=!1,e=window.sf_||window.$sf,i=-1,n=!1,r=void 0!==this.isSandboxedSafeframe;if(e&&r)t=this.isSandboxedSafeframe,n=!0;else if(e&&!r)return i;try{document}catch(e){n=t=!0}if(!t)try{if(null!=window.frameElement){var o=window.frameElement.getAttribute("sandbox");t=o&&0<o.length,n=!0}window}catch(e){t=/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(e.message.toLowerCase()),n=!0,M(e)||E(e,{label:"getSandboxingCode_2"})}return this.isForcedSandboxing&&!e&&n?4:e&&n?t?3:2:!e&&n?t?1:0:-1};var N,F,E=function(e,t){try{var i=t.label&&!!~t.label.indexOf("submitFindings")||2==this.devMode||Math.random()<=.025,n=window.navigator,r=n&&n.sendBeacon;if(!i&&r)return;t.msg=e.message,t.src="caspr",t.tpid=this.prefixedTpid,t.uh=this.prefixedTpid,t.property_id=this.getPropertyId();try{t.url=window.sf_||window.$sf?document.referrer:window.top.location.href,t.isSF=!(!window.sf_&&!window.$sf)}catch(e){}if(r){var o=JSON.stringify(t);o=btoa(o),n.sendBeacon(this.adserverDomain+"/werror",o)}else o=JSON.stringify({sendUrl:"werror",payload:t}),o=btoa(o),window.top.postMessage("cerr"+o,"*")}catch(e){console.log("failed to send werror report")}}.bind(this),L=function(){return this.getPropertyId()==n||2==this.devMode}.bind(this),O=function(e){if(L()&&e.id&&~e.id.indexOf("__adnxs_passback__"))try{var t="https://confiant-integrations.global.ssl.fastly.net/"+this.getPropertyId()+"/gpt/config.js";2==this.devMode&&(t="/"+this.getPropertyId()+"/gpt/config.js");var i="<scr"+"ipt>window.confiant = window.confiant || {isMaster: false}</scr"+"ipt>"+"<scr"+'ipt src="'+t+'"></scr'+"ipt>",n=e.contentDocument;"loading"===n.readyState?n.write(i):n.head.insertAdjacentHTML("afterbegin",i)}catch(e){E(e,{label:"onNestedFrameCreation"})}}.bind(this);if(F=N=this,window.addEventListener("error",function(e){try{if(!(e.message&&e.error&&p&&T()))return;var t=(e.error+""+(e.error.stack||"")).substr(0,500).trim();r=((n=e).error+""+(n.error.stack||"")).substr(0,500).trim(),o=T(),s=RegExp({chrome:"The current window does not have permission to navigate the target frame",firefox:"InvalidAccessError: A parameter or an operation is not supported by the underlying object",safari:"The operation is insecure."}[o],"gmi"),a=RegExp(/(d9\.flashtalking\.com\/)|(s0.2mdn\.net\/ads\/studio\/cached_libs\/modernizr)|(video)/,"gmi"),x(s,n.message)&&!x(a,r)&&(i=t,F._complete_blocking("\x3c!-- "+"Browser Detected: "+T()+" "+i+"--\x3e",{f:"write",h:"document",r:[{d:"",l:[{oi:1,ot:8,rs:1,isSb:1}]}]},0,0,!1,""))}catch(e){E(e,{label:"listenForSandboxingErrors"})}var i,n,r,o,s,a}),N.init(),N.rules=N.getRules(),p)try{window[p.uniqueHash][p.tpIdentifier]["sb"]=this.getSandboxingCode(),3==this.devMode&&(window[p.uniqueHash][p.tpIdentifier].isPxlReq=!1)}catch(e){p&&window[p.uniqueHash]&&window[p.uniqueHash][p.tpIdentifier]&&(window[p.uniqueHash][p.tpIdentifier]["sb"]=-1)}};
  var cache={},getSerializedCaspr=function(n,t){var i=t,o=!1;try{var e=window.top.confiant?window.top.confiant.settings:null;i||(i=e)}catch(n){o=!0,i=confiantTryToGetConfig("gpt")}if(!i)throw Error("Confiant failed to init. No configuration. Contact support@confiant.com");if(o||(window.top.confiant=window.top.confiant||{settings:i}),!Caspr)throw Error("Confiant failed to init. Blocking layer not found. Contact support@confiant.com");var r=(n=!(void 0!==n&&!o)||n)?"safeframe":"friendly";if(cache[r])return cache[r];var a,c=i.propertyId,w=i.adServer||"https://protected-by.clarium.io";a=!n&&i.rules?window.top.confiant[c]?"window.top.confiant['"+c+"'].settings.rules":"window.top.confiant.settings.rules":n&&i.rules?'"'+btoa(JSON.stringify(i.rules))+'"':'"'+i.cache+'"';var d="var Caspr = "+Caspr+";\n";return cache[r]=escape(d+="new Caspr("+a+', null, "wt_" + window["'+c+'"]["tpid"],'+'{"uniqueHash":"'+c+'","tpIdentifier":window["'+c+'"]["tpid"]},'+'"'+w+'")'+";\n("+function(n,t){var i="",o="",e=Math.ceil(1e7*Math.random()),r="",a="",c=window[n]["tpid"],w=!!c,d="wt_"+c,s="v3"+(new Date).getTime().toString(32);try{(i=JSON.stringify(window[n][c]["id"])||"")&&(i="&id="+escape(btoa(i))),o="&sb="+window[n][c]["sb"],e="&cb="+e;var f=window.sf_||window.$sf?document.referrer:window.location.href,p=f.indexOf("//"),l=f.indexOf("/",p+2);-1<p&&(l<0&&(l=f.length),r=f.substr(p+=2,l-p)),r="&h="+encodeURIComponent(r),a="&d="+btoa(JSON.stringify(window[n][c]["d"]))}catch(n){console.error(n)}t.indexOf("//")<0&&(t="https://"+t);var u=!0;try{void 0===(u=window[n][c]["isPxlReq"])&&(u=!0),u=u&&!window.isPxlSent}catch(n){u=!0}u&&w?((new Image).src=t+"/pixel?tag="+d+"&v=5&s="+s+i+o+e+r+a,window.isPxlSent=!0):console.error("skipping pixel",w,u)}+')("'+c+'", "'+w+'")'),cache[r]};
  var config=confiantTryToGetConfig("prebid")||{sandbox:0},confiantGlobal=window.confiant,customPrebidNameSpace=config.prebidNameSpace||"pbjs";window[customPrebidNameSpace]=window[customPrebidNameSpace]||{que:[]};var prebidRef=window[customPrebidNameSpace],onPrebidErrorHandler=confiantGlobal.on_prebid_error;prebidRef.que=prebidRef.que||[],prebidRef.que.push(function(){var i,l=prebidRef._r?prebidRef._r:prebidRef._r=prebidRef.renderAd,b=confiantGlobal.on_prebid_error||config.on_prebid_error;if(!confiantWrap)throw Error("Confiant failed to init prebid wrapper");function n(){var e=/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile/i,i=""+config.sandbox;return"1"==i||("2"==i?!navigator.userAgent.match(e):"3"==i?navigator.userAgent.match(e):"4"==i?navigator.userAgent.match(/(.+)(iPhone|iPad|iPod)(.+)OS[\s|\_](\d)\_?(\d)?[\_]?(\d)?.+/i):"5"==i&&navigator.userAgent.match(/Android/i))}function e(i){if((null!=(a=i.data)||null!=a)&&("[object Array]"!==Object.prototype.toString.call(a)||0<a.length)){var n="cb"+t;o=n,(e=i.data).substr&&e.substr(!r||r<0?0:+r,o.length)==o&&function(){var e=JSON.parse(atob(i.data.substr(n.length)));try{d.apply(this,e)}catch(e){console.log("Custom callback failed with an error: "+e)}"undefined"!=typeof confiantAutoRFCb&&confiantAutoRFCb.apply(null,e)}()}var e,o,r,a}function g(e,i){var n=!1||2==config.devMode||Math.random()<=.025,o=window.navigator,r=o&&o.sendBeacon;if(n||!r){i.msg=e.message,i.src="prebid-v3",i.property_id=config.propertyId,i.uh="wt_not_established";try{i.url=window.sf_||window.$sf?document.referrer:window.top.location.href}catch(e){}var a=JSON.stringify(i);a=btoa(a);var d=config.adServer+"/werror";if(r)o.sendBeacon(d,a);else{var t=new XMLHttpRequest;t.open("POST",d),t.send(i)}}}n()&&(Node.prototype.appendChild=(i=Node.prototype.appendChild,function(e){return("IFRAME"===e.tagName&&e.id&&~e.id.indexOf("google_ads_iframe_")||"IFRAME"===e.tagName&&e.id&&~e.id.indexOf("sas_"))&&n()&&!e.getAttribute("sandbox")&&(e.setAttribute("sandbox","allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"),e.setAttribute("data-forced-sandbox",!0)),i.call(this,e)}));var d=config.callback,t=config.propertyId;config.isIntegrationEnabled&&config.isIntegrationEnabled("prebid")&&!config.isIntegrationEnabled("gpt")&&(window.addEventListener?window.top.addEventListener("message",e,!1):window.top.attachEvent("onmessage",e));var u=null,w=window.navigator.userAgent.match(/(Trident\/7.0)|(edge)/i);prebidRef.renderAd=function(e,i){var n=!1;try{n=!(!e||!e.defaultView.Caspr||customPrebidNameSpace&&~customPrebidNameSpace.indexOf("udm_"))}catch(e){}if(e&&i&&!n)try{var o,r,a,d=[],t=prebidRef.getBidResponses();for(var c in t)for(var f in d=d.concat(t[c].bids),o=prebidRef.getBidResponsesForAdUnitCode(c))d=d.concat(o.bids);for(d=d.concat(prebidRef.getHighestCpmBids()),d=prebidRef.getAllWinningBids?d.concat(prebidRef.getAllWinningBids()):d,d=prebidRef.getAllPrebidWinningBids?d.concat(prebidRef.getAllPrebidWinningBids()):d,a=0;a<d.length;a++)if(d[a].adId===i){r=d[a];break}!r&&prebidRef.findBidByAdId&&(r=prebidRef.findBidByAdId(i));var p=config.prebidExcludeBidders||[],s=!1;if(r)for(a=0;a<p.length;a++)if(r.bidder===p[a]){s=!0;break}if(r&&r.ad&&!s)return config.adMap[r.adUnitCode]=r,config.adMap[r.adUnitCode]["is_monitored"]=!0,e.write=e.close=function(){},w&&(e.open=e.write),l(e,i),delete e.write,delete e.close,w&&delete e.open,u="undefined"==typeof getSerializedCaspr?null:getSerializedCaspr(!1,config),void(confiantWrap(e,r,config.confiantCdn,config.propertyId,config.callback,u,config)||(e.write(r.ad),e.close()));r&&r.ad&&s?(config.adMap[r.adUnitCode]=r,config.adMap[r.adUnitCode]["is_monitored"]=!1):r&&r.ad||g(Error("bid not found"),{label:"noBid"})}catch(e){try{b&&b(e)}catch(e){}g(e,{label:"renderAd"})}l(e,i)}});
})();
