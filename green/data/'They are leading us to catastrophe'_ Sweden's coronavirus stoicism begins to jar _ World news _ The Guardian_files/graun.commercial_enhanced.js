(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{11:function(e,n,t){"use strict";var i=t(5),r=t.n(i),a=t(31),o=t.n(a);r.a.aug({height:function(){return this.dim().height}});var c=function(e,n){return r()(o()(e,n))};c.create=function(e){return r()(r.a.create(e))},c.ancestor=function(e,n){return null==e||"html"===e.nodeName.toLowerCase()?null:!e.parentNode||r()(e.parentNode).hasClass(n)?e.parentNode:c.ancestor(e.parentNode,n)},c.forEachElement=function(e,n){var t=o()(e);return t.forEach(n),t},n.a=c},124:function(e,n,t){"use strict";t.d(n,"b",function(){return o}),t.d(n,"c",function(){return c}),t.d(n,"a",function(){return s}),t.d(n,"d",function(){return u});var i=t(4),r=t(72),a=t(67),o=function(){return i.a.get(r.c)||{}},c=function(e){return Object(a.c)(e,o())},s=function(){i.a.remove(r.c)},u=function(e){i.a.set(r.c,e)}},13:function(e,n,t){"use strict";var i=t(20),r=t.n(i),a=t(0),o=function(e){return e.trim().toLowerCase()},c=t(42),s=t(22),u=t(11),d=t(4),l=t(56),p=t(8),m=t(10),f=t(6),h=t(3),g=function(e,n){return e?function(e,n){return e.split(n).map(function(e){return e.trim()}).filter(Boolean)}(e,n):[]},v=t(27),b='\n    <div id="epic-ticker" class="js-epic-ticker epic-ticker is-hidden">\n    \n        <div class="js-ticker-amounts">\n            <div class="js-ticker-so-far epic-ticker__so-far">\n                <div class="js-ticker-count epic-ticker__count"></div>\n                <div class="js-ticker-label epic-ticker__count-label is-hidden">contributed</div>\n            </div>\n            \n            <div class="js-ticker-goal epic-ticker__goal">\n                <div class="js-ticker-count epic-ticker__count">'.concat(Object(h.f)(),'0</div>\n                <div class="js-ticker-label epic-ticker__count-label">our goal</div>\n            </div>\n        </div>\n        \n        <div class="epic-ticker__progress-container">\n            <div class="epic-ticker__progress">\n                <div class="js-ticker-filled-progress epic-ticker__filled-progress"></div>\n            </div>\n            <div class="js-ticker-goal-marker epic-ticker__goal-marker is-hidden"></div>\n        </div>\n    </div>\n'),y=t(45),w=t.n(y),_=t(48),k=t(26),T=t(63),O=t(66),j={heading:"Since you’re here &hellip;",paragraphs:["&hellip; we have a small favour to ask. More people are reading the Guardian than ever but advertising revenues across the media are falling fast. And unlike many news organisations, we haven’t put up a paywall &ndash; we want to keep our journalism as open as we can. So you can see why we need to ask for your help.","The Guardian is editorially independent, meaning we set our own agenda. Our journalism is free from commercial bias and not influenced by billionaire owners, politicians or shareholders. No one edits our Editor. No one steers our opinion. This is important because it enables us to give a voice to the voiceless, challenge the powerful and hold them to account. It’s what makes us different to so many others in the media, at a time when factual, honest reporting is critical.","If everyone who reads our reporting, who likes it, helps to support it, our future would be much more secure."],highlightedText:"For as little as ".concat(Object(h.f)(),"1, you can support the Guardian &ndash; and it only takes a minute. Thank you.")},C=t(58),S=t(9),I=[{section:"football"},{section:"money"},{section:"education"},{section:"games"},{section:"teacher-network"},{section:"careers"},{keywordIds:["guardian-masterclasses/guardian-masterclasses"]}],A=function(e,n){return!n.some(function(n){var t=!n.section||n.section===e.section,i=!n.toneIds||n.toneIds.every(function(n){return e.toneIds.includes(n)}),r=!n.keywordIds||n.keywordIds.every(function(n){return e.keywordIds.includes(n)});return t&&i&&r})},x=t(148),E=t(60),R=t(161),M=t.n(R),N=function(e){var n=function(n){switch(n){case"invalid":e.helpText.style.color="#c70000",e.emailInput.style.outline="4px solid ".concat("#c70000"),e.helpText.innerHTML="".concat(M.a.markup," Invalid email address");break;case"pending":e.emailInput.disabled=!0,e.submitButton.disabled=!0,e.emailInput.style.outline="initial",e.submitButton.innerHTML="Pending",e.helpText.innerHTML="";break;case"success":e.thankYouText.style.display="block",e.formWrapper.style.display="none",e.closeButton.style.display="none",e.titleField.innerHTML="Thank you! Your reminder is set.";break;case"failure":e.submitButton.innerHTML="Something went wrong",e.helpText.innerHTML="Sorry we weren't able to sign you up for a reminder, please try again later"}};e.submitButton.addEventListener("click",function(t){t.preventDefault(),function(){var t=a.a.get("page.isProd"),i=e.emailInput.value||"";if(!/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(i))return n("invalid"),Promise.reject(new Error("Email is invalid"));n("pending");var r=e.submitButton.getAttribute("data-reminder-date");return fetch(t?"https://contribution-reminders.support.guardianapis.com/remind-me":"https://contribution-reminders-code.support.guardianapis.com/remind-me",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,reminderDate:r,isPreContribution:!0})})}().then(function(e){e.ok?n("success"):n("failure")}).catch(function(e){return console.error(e)})});var t=function(){var n=e.reminderPrompt.getAttribute("data-cta-copy"),t=n?n.toLowerCase().replace(/\s/g,"-"):"";Object(s.c)({component:{componentType:"ACQUISITIONS_OTHER",id:"precontribution-reminder-prompt-clicked"}}),Object(s.c)({component:{componentType:"ACQUISITIONS_OTHER",id:"precontribution-reminder-prompt-copy-".concat(t)}})},i=function(){e.reminderToggle.checked=!e.reminderToggle.checked};e.reminderPrompt.addEventListener("click",t),e.reminderPrompt.addEventListener("keypress",function(e){"Enter"===e.key&&(t(),i())}),e.closeButton.addEventListener("keypress",function(e){"Enter"===e.key&&i()})};t.d(n,"e",function(){return ce}),t.d(n,"b",function(){return se}),t.d(n,"f",function(){return ue}),t.d(n,"k",function(){return F}),t.d(n,"j",function(){return re}),t.d(n,"g",function(){return L}),t.d(n,"h",function(){return B}),t.d(n,"a",function(){return ae}),t.d(n,"m",function(){return ne}),t.d(n,"c",function(){return X}),t.d(n,"l",function(){return te}),t.d(n,"d",function(){return ee}),t.d(n,"i",function(){return V});var L=function(e){switch(e){case"GB":return"united-kingdom";case"US":return"united-states";case"AU":return"australia";default:return"rest-of-world"}},B=function(){return d.a.get("gu.alreadyVisited")||0},U=function(e,n){return n?e.replace(/%%COUNTRY_NAME%%/g,n):e},P={days:30,count:4,minDaysBetweenViews:0},D=function(e,n){return function(e){var n,t,i,r,a=e.copy,o=a.heading,c=void 0===o?"":o,s=a.paragraphs,u=a.highlightedText,d=a.footer,l=e.componentName,p=e.epicClassNames,m=void 0===p?[]:p,f=e.buttonTemplate,h=e.wrapperClass,g=void 0===h?"":h,v=e.showTicker,y=void 0!==v&&v,_=e.backgroundImageUrl,k=e.showReminderFields,T=(_?m.concat(["contributions__epic--with-image"]):m).join(" ");return'<div class="contributions__epic '.concat(T,'" data-component="').concat(l,'" data-link-name="epic">\n        <div class="').concat(g,'">\n            <div>\n                ').concat(y?b:"","\n\n                ").concat(_?(r=_,'<div class="contributions__epic-image">\n        <img src="'.concat(r,'" alt="Image for Guardian contributions message"/>\n    </div>')):"",'\n\n\n\n                <h2 class="contributions__title">\n                    ').concat(c,"\n                </h2>\n                ").concat((t=s,i=u?' <strong><span class="contributions__highlight">'.concat(u,"</span></strong>"):"",t.map(function(e,n){return n+1===t.length?"".concat(e).concat(i):e})).map(function(e){return"<p>".concat(e,"</p>")}).join(""),"\n            </div>\n\n            ").concat(f||"","\n\n            ").concat(d?'<div class="contributions__epic-footer">\n        '.concat(d.map(function(e){return"<h2>".concat(e,"</h2>")}).join(""),"\n    </div>"):"","\n\n            ").concat(k?(n=k,'\n    <div id="epic-reminder" class="js-epic-reminder epic-reminder">\n        <div class="epic-reminder__signup">\n            <label for="epic-reminder__reveal-reminder" class="epic-reminder__close-button-label">\n                <div class="epic-reminder__close-button" tabindex="0">\n                    '.concat(w.a.markup,'\n                </div>\n            </label>\n\n            <div class="epic-reminder__form-title">Remind me in ').concat(n.reminderDateAsString,'</div>\n\n            <div class="epic-reminder__form-wrapper">\n                <form>\n                    <label for="epic-reminder__email-input" class="epic-reminder__email-label">Email address</label>\n\n                    <p id="epic-reminder__email-help-text" class="epic-reminder__email-help-text" />\n\n                    <div class="epic-reminder__email-input-wrapper">\n                        <input type="email" class="epic-reminder__email-input" id=epic-reminder__email-input" aria-describedby="epic-reminder__email-help-text" />\n\n                        <div class="epic-reminder__submit-button-wrapper">\n                            <button data-reminder-date="').concat(n.reminderDate,'" type="submit" class="epic-reminder__submit-button component-button component-button--hasicon-right" id="epic-reminder__submit-button">\n                                Set my reminder\n                                <svg class="svg-arrow-right-straight" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 17.89" preserveAspectRatio="xMinYMid" aria-hidden="true" focusable="false">\n                                    <path d="M20 9.35l-9.08 8.54-.86-.81 6.54-7.31H0V8.12h16.6L10.06.81l.86-.81L20 8.51v.84z" />\n                                </svg>\n                            </button>\n                        </div>\n                    </div>\n                </form>\n\n                <p class="epic-reminder__email-terms-and-conditions">\n                    We will use this to send you a single email in ').concat(n.reminderDateAsString,'. To find out what personal data we collect and how we use it, please visit our <a href="https://www.theguardian.com/help/privacy-policy">Privacy Policy</a>\n                </p>\n            </div>\n\n            <div class="epic-reminder__thank-you">\n                We will be in touch to invite you to contribute. Look out for a message in your inbox in ').concat(n.reminderDateAsString,'. If you have any questions about contributing, please <a href="mailto:contribution.support@theguardian.com">contact us here</a>.\n            </div>\n        </div>\n    </div>\n')):"","\n        </div>\n    </div>")}({copy:n,componentName:e.componentName,buttonTemplate:e.buttonTemplate?e.buttonTemplate({url:e.supportURL,ctaText:e.ctaText||"Support The Guardian"},e.secondaryCta,e.showReminderFields):void 0,epicClassNames:e.classNames,showTicker:e.showTicker,showReminderFields:e.showReminderFields,backgroundImageUrl:e.backgroundImageUrl})},H=function(e,n){return Object(_.a)({copy:n,componentName:e.componentName,supportURL:e.supportURL})},G=function(e){return"Article"===e.contentType&&!e.isMinuteArticle&&A(e,I)},V=function(e){return"LiveBlog"===e.contentType&&A(e,I)},F=function(){return a.a.get("page.shouldHideReaderRevenue")||"paid-content"===a.a.get("page.sponsorshipType")},q=function(e){switch(e){case"PostAskPauseSingleContributors":return Object(k.i)()&&!Object(k.m)();case"AllExistingSupporters":return Object(k.m)();case"AllNonSupporters":return!Object(k.m)();case"Everyone":default:return!0}},K=function(e){var n=e.pageCheck(a.a.get("page")),t=function(e){return!e.useTargetingTool||function(e){return function(e){try{return a.a.get("page.campaigns",[]).filter(function(n){return n.fields&&o(n.fields.campaignId)===o(e)})}catch(e){return[]}}(e.campaignId).length>0}(e)}(e);return!F()&&n&&q(e.userCohort)&&t},z=function(e,n,t){return"".concat(e,"_").concat(n,"_").concat(t)},W=function(e,n){return"".concat(e,":").concat(n)},Y=function(e){return e.some(function(e){return"".concat(a.a.get("page.keywordIds"),",").concat(a.a.get("page.nonKeywordTagIds")).includes(e)})},J=function(e,n){var t=n?Object(h.a)(n).toUpperCase():void 0;return e.some(function(e){return t===e.toUpperCase()})},Z=function(e){return e.some(function(e){return a.a.get("page.section")===e})},Q=function(e){return!!e&&e.includes("%%")},$=function(e,n){return!e||!!Object(h.c)(n)},X=function(e){f.a.emit("register:begin",e)},ee=function(e,n,t){f.a.emit(e.insertEvent,{componentType:e.componentType,products:n,campaignCode:t||""})},ne=function(e,n,t,i,r){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(l.a)(e,window,{top:18}).on("firstview",function(){if(Object(c.b)(n.id),f.a.emit(n.viewEvent,{componentType:n.componentType,products:r,campaignCode:t}),f.a.emit("register:end",i),a&&Object(x.a)(".js-epic-ticker"),o){var e=function(){var e=document.querySelector(".epic-reminder__email-help-text"),n=document.querySelector(".epic-reminder__submit-button"),t=document.querySelector(".epic-reminder__email-input"),i=document.querySelector(".epic-reminder__form-wrapper"),r=document.querySelector(".epic-reminder__form-title"),a=document.querySelector(".epic-reminder__thank-you"),o=document.querySelector(".epic-reminder__close-button"),c=document.querySelector(".component-button--reminder-prompt"),s=document.querySelector(".epic-reminder__reveal-reminder");if(e&&n&&t&&r&&a&&i&&o&&c&&s&&n instanceof HTMLButtonElement&&t instanceof HTMLInputElement&&s instanceof HTMLInputElement)return e.innerHTML="",{submitButton:n,helpText:e,emailInput:t,formWrapper:i,titleField:r,thankYouText:a,closeButton:o,reminderPrompt:c,reminderToggle:s}}();e&&N(e)}})},te=function(e,n,t,i){new Promise(function(e){f.a.on("module:clickstream:click",function(n){!0!==n&&!1!==n&&n.tags.find(function(e){return"epic"===e})&&e()})}).then(function(){return Object(s.c)({component:{componentType:e.componentType,products:t,campaignCode:n||"",id:n||""},abTest:{name:e.id,variant:i}})})},ie=function(e,n,t){var i="epic_".concat(t.campaignId),r=z(t.campaignPrefix,t.campaignId,e.id),a=z(t.campaignPrefix,t.campaignId,e.id),o=e.deploymentRules||P;return{id:e.id,componentName:"mem_acquisition_".concat(i,"_").concat(e.id),campaignCode:a,supportURL:Object(s.b)({base:e.supportBaseURL?Object(T.a)(e.supportBaseURL):Object(T.b)(),componentType:t.componentType,componentId:r,campaignCode:a,abTest:{name:t.id,variant:e.id}}),template:e.template||n,buttonTemplate:e.buttonTemplate,ctaText:e.ctaText,secondaryCta:e.secondaryCta,copy:e.copy,classNames:e.classNames||[],showTicker:e.showTicker||!1,showReminderFields:e.showReminderFields||!1,backgroundImageUrl:e.backgroundImageUrl,deploymentRules:o,countryGroups:e.countryGroups||[],tagIds:e.tagIds||[],sections:e.sections||[],excludedTagIds:e.excludedTagIds||[],excludedSections:e.excludedSections||[],canRun:function(){var n,i,r,a,s,u,d,l=this,p="AlwaysAsk"===o||(i=(n=o).count,r=n.days,a=n.minDaysBetweenViews,s=t.useLocalViewLog?t.id:void 0,u=Object(c.c)(r,s)<i,d=0===Object(c.c)(a,s),u&&d),m=0===this.countryGroups.length||J(this.countryGroups,t.geolocation),f=0===this.tagIds.length&&0===this.sections.length||Y(this.tagIds)||Z(this.sections),h=!Y(this.excludedTagIds),g=!Z(this.excludedSections);return(!e.canRun||e.canRun())&&p&&m&&f&&h&&g&&(!l.copy||!Q(l.copy.heading)&&!l.copy.paragraphs.some(Q)&&!Q(l.copy.highlightedText))},test:function(){var n=this;(this.copy&&Promise.resolve(this.copy)||Object(O.c)().then(function(e){return function(e){var n=e&&e[0];if(!(n&&n.heading&&n.paragraphs&&n.highlightedText))throw new Error("Required data from the Google Doc was missing. Got row: ".concat(n));return{heading:n.heading,paragraphs:e.map(function(e){return e.paragraphs}),highlightedText:n.highlightedText.replace(/%%CURRENCY_SYMBOL%%/g,Object(h.f)())}}(e)}).catch(function(e){return Object(m.a)(new Error("Could not fetch control epic copy from Google Doc. ".concat(e.message,". Stack: ").concat(e.stack)),{feature:"epic"},!1),j})).then(function(e){return n.template(n,e)}).then(function(r){if(!e.test){var o=u.a.create(r);return X(i),p.a.write(function(){var n,r=(".submeta",(n=Array.from(document.querySelectorAll(".submeta"))).length?[n[0]]:[]);return te(t,a,e.products,e.id),r.length>0&&(o.insertBefore(r),ee(t,e.products,a),o.each(function(n){ne(n,t,a,i,e.products,e.showTicker,e.showReminderFields)})),o[0]})}var c=t;e.test(r,n,c)})},impression:function(n){return f.a.once(t.insertEvent,function(){Object(s.e)({component:{componentType:t.componentType,products:e.products,campaignCode:a,id:a},abTest:{name:t.id,variant:e.id}}),n()})},success:function(n){return f.a.once(t.viewEvent,function(){Object(s.f)({component:{componentType:t.componentType,products:e.products,campaignCode:a,id:a},abTest:{name:t.id,variant:e.id}}),n()})}}},re=function(e){var n=e.id,t=e.start,i=e.expiry,r=e.author,a=e.idealOutcome,o=e.campaignId,c=e.description,s=e.audience,u=e.audienceOffset,d=e.successMeasure,l=e.audienceCriteria,p=e.variants,m=e.geolocation,f=e.highPriority,h=e.campaignPrefix,g=void 0===h?"gdnwb_copts_memco":h,v=e.useLocalViewLog,b=void 0!==v&&v,y=e.useTargetingTool,w=void 0!==y&&y,_=e.userCohort,k=void 0===_?"AllNonSupporters":_,T=e.testHasCountryName,O=void 0!==T&&T,j=e.pageCheck,C=void 0===j?G:j,S=e.template,I=void 0===S?D:S,A=e.canRun,x=void 0===A?function(){return!0}:A,E=e.articlesViewedSettings,R={showForSensitive:!0,geolocation:m,highPriority:f,canRun:function(){return x()&&$(O,m)&&function(e){if(e){var n=!e.maxViews||e.count<=e.maxViews,t=!e.minViews||e.count>=e.minViews;return n&&t}return!0}(E)&&K(this)},componentType:"ACQUISITIONS_EPIC",insertEvent:W(n,"insert"),viewEvent:W(n,"view"),variants:[],id:n,start:t,expiry:i,author:r,description:c,audience:s,audienceOffset:u,successMeasure:d,audienceCriteria:l,idealOutcome:a,campaignId:o,campaignPrefix:g,useLocalViewLog:b,userCohort:k,pageCheck:C,useTargetingTool:w};return R.variants=p.map(function(e){return ie(e,I,R)}),R},ae=function(e,n,t,i){var r=e.heading,a=function(e,n){if(Array.isArray(n)&&n.length>0)return n;throw new Error("".concat("paragraphs"," is empty"))}(0,e.paragraphs),o=n?Object(h.c)(t):void 0,c=function(e){return n=U(e,o),(t=i)?n.replace(/%%ARTICLE_COUNT%%/g,t.toString()):n;var n,t};return{heading:r?c(r):r,paragraphs:a.map(c),highlightedText:e.highlightedText?e.highlightedText.replace(/%%CURRENCY_SYMBOL%%/g,Object(h.e)(t)):void 0,footer:g(e.footer,"\n")}},oe=function(e,n,t){var i=n?Object(h.c)(t):void 0;return i?U(e,i):e},ce=function(){return(e=a.a.get("page.isDev")?"https://support.code.dev-theguardian.com/epic-tests.json":"https://support.theguardian.com/epic-tests.json",Object(S.a)(e,{mode:"cors"})).then(function(e){var n="#show-draft-epics"===window.location.hash;return e.tests?e.tests.filter(function(e){return e.isOn||n}).map(function(e){return re((n=e,i=Object(h.g)(),a=n.locations,o=n.tagIds,c=n.sections,s=n.excludedTagIds,u=n.excludedSections,d=n.alwaysAsk?"AlwaysAsk":n.maxViews?{days:n.maxViews.maxViewsDays,count:n.maxViews.maxViewsCount,minDaysBetweenViews:n.maxViews.minDaysBetweenViews}:P,l=n.articlesViewedSettings&&n.articlesViewedSettings.periodInWeeks?{minViews:n.articlesViewedSettings.minViews,maxViews:n.articlesViewedSettings.maxViews,count:Object(E.b)(n.articlesViewedSettings.periodInWeeks)}:void 0,r()({id:n.name,campaignId:n.name,geolocation:i,highPriority:n.highPriority,start:"2018-01-01",expiry:"2025-01-01",author:"Epic test tool",description:"Epic test tool",successMeasure:"AV2.0",idealOutcome:"Epic test tool",audienceCriteria:"All",audience:parseFloat(n.audience)?n.audience:1,audienceOffset:parseFloat(n.audienceOffset)?n.audienceOffset:0,useLocalViewLog:n.useLocalViewLog,userCohort:n.userCohort&&(t=n.userCohort,["AllExistingSupporters","AllNonSupporters","Everyone","PostAskPauseSingleContributors"].includes(t))?n.userCohort:"AllNonSupporters"},n.isLiveBlog?{template:H,pageCheck:V}:{template:D,pageCheck:G},{testHasCountryName:n.hasCountryName,articlesViewedSettings:l,variants:n.variants.map(function(e){return r()({id:e.name},n.isLiveBlog?{test:C.a}:{},e.cta?{buttonTemplate:v.a,ctaText:e.cta.text,supportBaseURL:e.cta.baseUrl}:{},{secondaryCta:e.secondaryCta&&e.secondaryCta.baseUrl&&e.secondaryCta.text?{url:e.secondaryCta.baseUrl,ctaText:e.secondaryCta.text}:void 0,copy:ae(e,n.hasCountryName,i,l?l.count:void 0),classNames:["contributions__epic--".concat(n.name),"contributions__epic--".concat(n.name,"-").concat(e.name)],showTicker:e.showTicker,showReminderFields:e.showReminderFields,backgroundImageUrl:(t=e.backgroundImageUrl,t&&t.trim().length>0?t.trim():void 0),deploymentRules:d,countryGroups:a,tagIds:o,sections:c,excludedTagIds:s,excludedSections:u});var t})})));var n,t,i,a,o,c,s,u,d,l}):[]}).catch(function(e){return Object(m.a)(new Error("Error getting multiple configured epic tests. ".concat(e.message,". Stack: ").concat(e.stack)),{feature:"epic"},!1),[]});var e},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AllNonSupporters",t=B()>=e,i=F();return t&&!i&&q(n)},ue=function(){return Object(O.d)(O.a).then(function(e){var n=e&&e.sheets;return n?Object.keys(n).filter(function(e){return e.endsWith("__ON")}).map(function(e){var t=n[e],i=e.split("__ON")[0],r=t.some(function(e){return"string"==typeof(n=e.hasCountryName)&&"true"===n.toLowerCase().trim();var n}),a=t.find(function(e){return void 0!==e.locations&&""!==e.locations}),o=a?g(a.locations,","):[],c=Object(h.g)();return{id:i,campaignId:i,componentType:"ACQUISITIONS_ENGAGEMENT_BANNER",start:"2018-01-01",expiry:"2020-01-01",author:"Google Docs",description:"Google Docs",successMeasure:"AV2.0",idealOutcome:"Google Docs",audienceCriteria:"All",audience:1,audienceOffset:0,geolocation:c,canRun:function(){var e=0===o.length||J(o,c);return $(r,c)&&e},variants:t.map(function(e){var n=e.leadSentence?oe(e.leadSentence.trim(),r,c):void 0,t=oe(e.messageText.trim(),r,c),i='<span class="engagement-banner__highlight"> '.concat(e.ctaText.replace(/%%CURRENCY_SYMBOL%%/g,Object(h.e)(c)),"</span>");return{id:e.name.trim().toLowerCase(),products:[],test:function(){},engagementBannerParams:{leadSentence:n,messageText:t,ctaText:i,buttonCaption:e.buttonCaption.trim(),linkUrl:e.linkUrl.trim(),hasTicker:!1},canRun:function(){return se()&&!Q(n)&&!Q(t)&&!Q(i)}}})}}):[]}).catch(function(e){return Object(m.a)(new Error("Error getting multiple engagement banner tests from Google Docs. ".concat(e.message,". Stack: ").concat(e.stack)),{feature:"engagement-banner"},!1),[]})}},133:function(e,n,t){"use strict";var i=t(20),r=t.n(i),a=t(16),o=t.n(a),c=t(0),s=t(32),u=t.n(s),d=t(64),l=t(57),p={url:window.location.href},m=t(124),f=t(2),h=t.n(f),g=t(28),v=t.n(g),b=t(67),y=function(){return window.location.hash.startsWith("#ab")?window.location.hash.replace("#ab-","").split(",").reduce(function(e,n){var t=n.split("="),i=v()(t,2),a=i[0],o=i[1];return r()({},e,h()({},a,{variant:o}))},{}):{}},w=t(72),_=function(e){var n,t=function(e){return Object(b.c)(e,y())}(e),i=Object(m.c)(e),a=function(e){var n=Object(d.b)()*e.audienceOffset,t=n+Object(d.b)()*e.audience,i=Number(Object(d.c)());return i&&i>n&&i<=t?e.variants[i%e.variants.length]:null}(e),o=t||i||a;return function(e){var n,t=Object(l.b)(e.expiry),i=c.a.get("page.isSensitive"),r=!!e.showForSensitive,a=Object(b.a)(e.id),o=!e.canRun||e.canRun();return n={key:e.id,value:{test:e,expired:t,isSensitive:i,shouldShowForSensitive:r,isTestOn:a,canTestBeRun:o}},p[n.key]=n.value,(!i||r)&&a&&!t&&o}(e)&&o&&(!(n=o).canRun||n.canRun())&&n.id!==w.a?r()({},e,{variantToRun:o}):null},k=function(e){return e.map(function(e){return _(e)}).find(function(e){return null!==e})},T=t(94),O=t(10),j=t(24),C=t.n(j),S=function(e){return C.a.record({abTestRegister:e})},I=function(e,n){var t={variantName:e.id,complete:n};return e.campaignCode&&(t.campaignCodes=[e.campaignCode]),t},A=function(e){return e.variants.every(function(e){return"function"==typeof e.impression})},x=function(e){return function(n){var t=n.variantToRun,i=(e?t.success:t.impression)||T.a;try{i(function(e,n,t){var i=h()({},e.id,I(n,String(t)));return function(){return S(i)}}(n,t,e))}catch(e){Object(O.a)(e,{},!1)}}},E=function(e){return e.forEach(x(!0))},R=function(e){return e.filter(A).forEach(x(!1))},M=function(e){return S(function(e){try{var n={},t=Object.keys(c.a.get("tests")).filter(function(e){return!!c.a.get("tests.".concat(e))});return e.filter((i=A,function(){return!i.apply(void 0,arguments)})).forEach(function(e){n[e.id]=I(e.variantToRun,"false")}),t.forEach(function(e){n["ab".concat(e)]=I({id:"inTest",test:function(){}},"false")}),n}catch(e){return Object(O.a)(e,{},!1),{}}var i}(e))},N=t(49),L=t(13),B=t(3),U=t(84),P=t(26);t.d(n,"b",function(){return D}),t.d(n,"a",function(){return H}),t.d(n,"d",function(){return G}),t.d(n,"c",function(){return V}),t.d(n,"f",function(){return F}),t.d(n,"e",function(){return q}),t.d(n,"g",function(){return K});var D=u()(function(){var e=N.c.filter(function(e){return e.highPriority}),n=N.c.filter(function(e){return!e.highPriority});return c.a.get("switches.useConfiguredEpicTests")?Object(L.e)().then(function(t){t.forEach(function(e){return c.a.set("switches.ab".concat(e.id),!0)});var i=t.filter(function(e){return e.highPriority}),r=t.filter(function(e){return!e.highPriority}),a=k([N.d].concat(o()(i),o()(e),o()(r),o()(n))),s=c.a.get("page");if("Article"!==s.contentType)return a;if(c.a.get("switches.compareVariantDecision")&&Math.random()<.1){var u=Object(B.g)();Object(U.compareVariantDecision)({targeting:{contentType:s.contentType,sectionName:s.section,shouldHideReaderRevenue:s.shouldHideReaderRevenue,isMinuteArticle:s.isMinuteArticle,isPaidContent:"paid-content"===s.sponsorshipType,isSensitive:s.isSensitive,tags:function(e){var n=e.keywordIds.split(","),t=e.keywords.split(",");return n.map(function(e,n){return{id:e,type:"Keyword",title:t[n]}})}(s),countryCode:u,showSupportMessaging:!Object(P.n)(),isRecurringContributor:Object(P.j)(),lastOneOffContributionDate:Object(P.e)(),mvtId:Object(d.c)(),epicViewLog:Object(U.getViewLog)(),weeklyArticleHistory:Object(U.getWeeklyArticleHistory)()},expectedTest:a?a.id:"",expectedVariant:a?a.variantToRun.id:"",frontendLog:p})}return a}):Promise.resolve(k([N.d].concat(o()(e),o()(n))))}),H=u()(function(){return c.a.get("switches.engagementBannerTestsFromGoogleDocs")?Object(L.f)().then(function(e){return e.forEach(function(e){return c.a.set("switches.ab".concat(e.id),!0)}),k(o()(N.b).concat(o()(e)))}):Promise.resolve(k(N.b))}),G=u()(function(){return N.a.reduce(function(e,n){var t=_(n);return t?o()(e).concat([t]):e},[])}),V=function(){return Object(b.b)(G())},F=function(e,n){return G().some(function(t){return t.id===e.id&&t.variantToRun.id===n})},q=function(e){return G().some(function(n){return n.id===e.id})},K=function(){var e=G();e.forEach(function(e){return e.variantToRun.test(e)}),R(e),E(e),M(e);var n=Object(b.d)(r()({},Object(m.b)(),y()));return Object(m.d)(r()({},Object(b.b)(e),n)),Promise.all([D(),H()]).then(function(e){return e.filter(Boolean)}).then(function(e){e.forEach(function(e){return e.variantToRun.test(e)}),R(e),E(e),M(e),Object(m.d)(r()({},Object(m.b)(),Object(b.b)(e)))})}},144:function(e,n,t){"use strict";var i=t(61),r=t.n(i),a=t(45),o=t.n(a),c=t(90),s=t.n(c),u=t(3),d='\n    <div id="banner-ticker" class="js-engagement-banner-ticker engagement-banner-ticker is-hidden">\n        \n        <div class="js-ticker-amounts">\n            <div class="js-ticker-so-far engagement-banner-ticker__so-far">\n                <div class="js-ticker-count engagement-banner-ticker__count"></div>\n                <div class="js-ticker-label engagement-banner-ticker__count-label is-hidden">contributed</div>\n            </div>\n            \n            <div class="js-ticker-goal engagement-banner-ticker__goal">\n                <div class="js-ticker-count engagement-banner-ticker__count">'.concat(Object(u.f)(),'0</div>\n                <div class="js-ticker-label engagement-banner-ticker__count-label">our goal</div>\n            </div>\n        </div>\n        \n        <div class="engagement-banner-ticker__progress-container">\n            <div class="engagement-banner-ticker__progress">\n                <div class="js-ticker-filled-progress engagement-banner-ticker__filled-progress"></div>\n            </div>\n            <div class="js-ticker-goal-marker engagement-banner-ticker__goal-marker is-hidden"></div>\n        </div>\n        \n    </div>\n'),l=t(83);t.d(n,"a",function(){return p});var p=function(e){return'\n        <div class="engagement-banner__close">\n            <div class="engagement-banner__roundel hide-until-phablet">\n                '.concat(r.a.markup,'\n            </div>\n            <button tabindex="4" class="button engagement-banner__close-button js-site-message-close js-engagement-banner-close-button" data-link-name="hide release message">\n                <span class="u-h">Close the support banner</span>\n                ').concat(o.a.markup,'\n            </button>\n        </div>\n        <div class="engagement-banner__container">\n            <div class="engagement-banner__text">\n                ').concat(e.leadSentence?'<div class="engagement-banner__header">\n                        '.concat(e.leadSentence,"\n                    </div>"):"","\n                ").concat(e.messageText).concat(e.ctaText,"\n                ").concat(e.hasTicker?d:"",'\n            </div>\n            <div class="engagement-banner__cta">\n                <a tabindex="3" class="button engagement-banner__button" href="').concat(e.linkUrl,'">\n                    ').concat(e.buttonCaption).concat(s.a.markup,"\n                </a>\n                ").concat(Object(l.a)("engagement-banner__payment-logos"),"\n            </div>\n        </div>\n\n    ")}},147:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i={id:"CommercialPrebidSafeframe",start:"2018-06-29",expiry:"2019-10-18",author:"Jerome Eteve",description:"This test will serve prebid ads via safeframe line items",audience:.01,audienceOffset:0,successMeasure:"Measurement of prebid ads yield",audienceCriteria:"n/a",dataLinkNames:"n/a",idealOutcome:"No difference between safeframe and standard",canRun:function(){return!0},variants:[{id:"control",test:function(){}},{id:"variant",test:function(){}}]}},148:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var i,r,a=t(3),o=t(9),c={},s=function(){return r>=i},u=function(e,n){var t=document.querySelector(e);t&&t instanceof HTMLElement&&(s()&&t.classList.add("epic-ticker__goal-reached"),function(e,n){var t=e.querySelector(".js-ticker-goal");if(t){var o=t.querySelector(".js-ticker-count"),c=t.querySelector(".js-ticker-label");if(o&&c){var u=s()&&"unlimited"===n?r:i;o.innerHTML="".concat(Object(a.f)()).concat(u.toLocaleString()),s()&&(c.innerHTML="contributed")}}}(t,n),window.setTimeout(function(){c[e]=0,window.requestAnimationFrame(function(){return function(e,n,t){var i=n.querySelector(".js-ticker-amounts .js-ticker-count"),o=n.querySelector(".js-ticker-amounts .js-ticker-label");i&&o&&(s()?(i.innerHTML="We’ve met our goal — thank you","unlimited"===t&&(o.innerHTML="Contributions are still being accepted",o.classList.remove("is-hidden"))):(o.classList.remove("is-hidden"),function e(n,t){var i=c[n]+Math.floor(r/100);i<=c[n]||i>=r?t.innerHTML="".concat(Object(a.f)()).concat(r.toLocaleString()):(c[n]=i,t.innerHTML="".concat(Object(a.f)()).concat(c[n].toLocaleString()),window.requestAnimationFrame(function(){return e(n,t)}))}(e,i)))}(e,t,n)}),function(e,n){var t=e.querySelector(".js-ticker-filled-progress");if(t&&t instanceof HTMLElement){var a="unlimited"===n&&r>i?r+.15*r:i,o=function(e){var n=r/a*100-100;return n>=0?0:n}();if(t.style.transform="translate3d(".concat(o,"%, 0, 0)"),a>i){var c=e.querySelector(".js-ticker-goal-marker");if(c){c.classList.remove("is-hidden");var s=i/a*100-100;c.style.transform="translate3d(".concat(s,"%, 0, 0)")}}}}(t,n)},500),t.classList.add("epic-ticker__".concat(n)),t.classList.remove("is-hidden"))},d=function(){return!(Number.isNaN(Number(r))||Number.isNaN(Number(i)))},l=function(e,n){!function(e,n){d()?u(e,n):Object(o.a)("https://support.theguardian.com/ticker.json",{mode:"cors"}).then(function(t){r=parseInt(t.total,10),i=parseInt(t.goal,10),d()&&u(e,n)})}(e,n||"unlimited")}},149:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i={id:"CommercialXaxisAdapter",start:"2019-09-24",expiry:"2020-07-30",author:"Ioanna Kyprianou",description:"Test new implementation of xaxis adapter with multiple placement ids",audience:0,audienceOffset:0,successMeasure:"Xaxis adapter works with multiple placement ids",audienceCriteria:"n/a",dataLinkNames:"n/a",idealOutcome:"No significant impact to performance as well as higher ad yield",showForSensitive:!0,canRun:function(){return!0},variants:[{id:"control",test:function(){}},{id:"variant",test:function(){}}]}},150:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i={id:"CommercialA9",start:"2019-05-09",expiry:"2020-04-09",author:"Ioanna Kyprianou",description:"This is to test amazon a9 header bidding",audience:.01,audienceOffset:0,successMeasure:"We can see amazon a9 bids ",audienceCriteria:"n/a",dataLinkNames:"n/a",idealOutcome:"Amazon a9 successfully run in parallel with prebid",canRun:function(){return!0},variants:[{id:"control",test:function(){}},{id:"variant",test:function(){}}]}},151:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i={id:"CommercialConnatix",start:"2020-12-03",expiry:"2020-12-04",author:"Ioanna Kyprianou",description:"This is to test connatix integration",audience:0,audienceOffset:0,successMeasure:"We can test connatix integration ",audienceCriteria:"n/a",dataLinkNames:"n/a",idealOutcome:"Conantix integration",canRun:function(){return!0},variants:[{id:"control",test:function(){}},{id:"variant",test:function(){}}]}},152:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i={id:"SignInGateTertius",start:"2020-02-17",expiry:"2020-05-01",author:"Mahesh Makani, Dominic Kendrick",description:"Test adding a sign in component on the 2nd pageview of simple article templates, with higher priority over banners and epic, and a much larget audience size.",audience:.1,audienceOffset:.9,successMeasure:"Users sign in or create a Guardian account",audienceCriteria:"The contributions epic is not shown, The consent banner is not shown, The contributions banner is not shown, Should only appear on simple article template, Should not show if they are already signed in, Users will not need to go through the marketing consents as part of signup flow",dataLinkNames:"n/a",idealOutcome:"60% of users sign in, and dismiss rate is below 40%",showForSensitive:!1,canRun:function(){return!0},variants:[{id:"control",test:function(){}},{id:"variant",test:function(){}}]}},153:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i={id:"CommercialGptPath",start:"2020-03-25",expiry:"2020-04-27",author:"George Haberis",description:"0% a/b test for new gpt.js path",audience:0,audienceOffset:0,successMeasure:"n/a",audienceCriteria:"n/a",dataLinkNames:"n/a",idealOutcome:"New gpt.js path does not adversely affect advertisement",canRun:function(){return!0},variants:[{id:"variant",test:function(){}}]}},160:function(e,n){e.exports={markup:'<span class="inline-apple-pay-mark inline-acquisitions"><svg xmlns="http://www.w3.org/2000/svg" width="165.5" height="106" viewBox="0 0 165.5 106"><path d="M150.7 0H13.1a75.8 75.8 0 0 0-4.5.3 10.5 10.5 0 0 0-3 1 10 10 0 0 0-4.3 4.3 10.5 10.5 0 0 0-1 3c-.2 1-.2 2-.3 3.1a70.2 70.2 0 0 0 0 1.4v78a481.1 481.1 0 0 0 0 3.2l.3 3a10.5 10.5 0 0 0 1 3A9.9 9.9 0 0 0 3 103a9.9 9.9 0 0 0 2.5 1.8c1 .5 2 .8 3 1a21 21 0 0 0 4.5.3H152.4a76.2 76.2 0 0 0 4.5-.3 10.5 10.5 0 0 0 3-1 10 10 0 0 0 4.3-4.4c.5-1 .8-1.9 1-3a20.6 20.6 0 0 0 .3-4.5v-78-1.7a63 63 0 0 0 0-1.4c0-1 0-2-.3-3.1a10.4 10.4 0 0 0-1-3 10 10 0 0 0-4.3-4.3 10.5 10.5 0 0 0-3-1l-3-.3a71.4 71.4 0 0 0-1.5 0h-1.7z"/><path fill="#FFF" d="M150.7 3.5h1.7a68.9 68.9 0 0 1 4 .3 7 7 0 0 1 1.9.6 6.4 6.4 0 0 1 2.8 2.8c.3.6.5 1.3.6 2a17.5 17.5 0 0 1 .3 4v79.6a60.8 60.8 0 0 1-.3 4 6.9 6.9 0 0 1-.6 2 6.4 6.4 0 0 1-2.8 2.7 7 7 0 0 1-2 .7 18 18 0 0 1-4 .2H13.2a75 75 0 0 1-1.3 0c-.8 0-1.7 0-2.6-.2a7 7 0 0 1-2-.7 6.3 6.3 0 0 1-1.6-1.1 6.4 6.4 0 0 1-1.2-1.7 7 7 0 0 1-.6-2c-.2-.8-.2-1.7-.2-2.5a66 66 0 0 1 0-1.4V13.1a66.7 66.7 0 0 1 0-1.3c0-.8 0-1.7.2-2.6a7 7 0 0 1 .6-2c.3-.6.7-1.1 1.2-1.6a6.4 6.4 0 0 1 1.6-1.2 7 7 0 0 1 2-.6 17.8 17.8 0 0 1 4-.3h137.5"/><path d="M43.5 35.8a9.1 9.1 0 0 0 2.1-6.5 9 9 0 0 0-8.2 9.3c2.4.2 4.7-1.1 6.1-2.8m2 3.3c-3.3-.2-6.1 1.9-7.7 1.9-1.6 0-4-1.8-6.7-1.8-3.5 0-6.7 2-8.4 5.1-3.6 6.2-1 15.4 2.5 20.5 1.7 2.5 3.8 5.2 6.5 5.1 2.5 0 3.5-1.6 6.6-1.6 3.1 0 4 1.6 6.7 1.6 2.8 0 4.6-2.5 6.3-5 2-2.9 2.7-5.6 2.8-5.8 0 0-5.4-2-5.5-8.2 0-5.2 4.2-7.6 4.4-7.8a9.6 9.6 0 0 0-7.4-4M79 32c7.3 0 12.3 5 12.3 12.3 0 7.4-5.2 12.4-12.5 12.4h-8v12.8h-5.9V32.1h14zM70.7 52h6.7c5 0 8-2.7 8-7.4 0-4.8-3-7.5-8-7.5h-6.7v15zm22 10c0-4.9 3.7-7.6 10.5-8l7.2-.5v-2c0-3-2-4.8-5.5-4.8-3 0-5 1.5-5.5 3.9H94c.2-4.9 4.7-8.4 11-8.4 6.6 0 11 3.4 11 8.9v18.6h-5.5v-4.5c-1.6 3-5 4.8-8.7 4.8-5.4 0-9.1-3.2-9.1-8zm17.7-2.5v-2l-6.4.3c-3.7.3-5.6 1.6-5.6 4 0 2.3 2 3.8 5.1 3.8 4 0 7-2.6 7-6zM121 79.7v-4.5h1.7c2.6 0 4-1 4.9-3.8l.5-1.7-9.8-27.3h6l7 22.2 7-22.2h5.8L134 71.1c-2.3 6.6-5 8.7-10.7 8.7l-2.2-.1z"/></svg></span>'}},161:function(e,n){e.exports={markup:'<span class="inline-error-triangle inline-icon"><svg width="22" height="18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.4107 0L0 17.0571.667857 18H21.3321L22 17.0571 11.5893 0h-1.1786zm-.0638 12.1778h1.3062l.621-6.91643-.8565-.72805h-.8351l-.85655.72805.62095 6.91643zM11 13.4519c.7008 0 1.2741.5733 1.2741 1.274C12.2741 15.4267 11.7008 16 11 16c-.7007 0-1.27405-.5733-1.27405-1.2741 0-.7007.57335-1.274 1.27405-1.274z" fill="#C70000"/></svg></span>'}},211:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i=function(e,n){return document.querySelector('script[src="'.concat(e,'"]'))?Promise.resolve():new Promise(function(t,i){var r=document.scripts[0],a=document.createElement("script");a.src=e,n&&Object.assign(a,n),a.onload=t,a.onerror=function(){i(new Error("Failed to load script ".concat(e)))},r.parentNode&&r.parentNode.insertBefore(a,r)})}},22:function(e,n,t){"use strict";t.d(n,"d",function(){return u}),t.d(n,"e",function(){return d}),t.d(n,"f",function(){return l}),t.d(n,"c",function(){return p}),t.d(n,"a",function(){return m}),t.d(n,"b",function(){return f});var i=t(20),r=t.n(i),a=t(24),o=t.n(a),c=t(0),s=t(19),u=function(e){o.a.record({componentEvent:e})},d=function(e){return u(r()({},e,{action:"INSERT"}))},l=function(e){return u(r()({},e,{action:"VIEW"}))},p=function(e){return u(r()({},e,{action:"CLICK"}))},m=function(e){return r()({},e,{referrerPageviewId:c.a.get("ophan.pageViewId"),referrerUrl:window.location.href.split("?")[0]})},f=function(e){var n=e.base,t=e.componentType,i=e.componentId,r=e.campaignCode,a=e.abTest,o=m({source:"GUARDIAN_WEB",componentId:i,componentType:t,campaignCode:r,abTest:a}),u={REFPVID:c.a.get("ophan.pageViewId")||"not_found",INTCMP:r,acquisitionData:JSON.stringify(o)};return"".concat(n).concat(n.includes("?")?"&":"?").concat(Object(s.b)(u))}},222:function(e,n){e.exports={markup:'<span class="inline-arrow-down inline-icon"><svg width="24" height="18" viewBox="-0.525 -4 24 18" overflow="visible" enable-background="new -0.525 -4 24 18"><path d="M23.2.7L12.7 9.1l-1.1.9-1.1-.898L0 .7.5 0l11.1 6.3L22.7 0l.5.7z"/></svg></span>'}},223:function(e,n){e.exports={markup:'<span class="inline-cross inline-icon"><svg width="18" height="18" viewBox="0 0 18 18"><path d="M7.5 9l-6.5-7 1-1 7 6.5 7-6.5 1 1-6.5 7 6.5 7-1 1-7-6.5-7 6.5-1-1 6.5-7z"/></svg></span>'}},236:function(e,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"b",function(){return o});var i=t(4),r=t(21),a=function(e){if(i.a.isAvailable()&&!1!==e){var n=i.a.get("gu.ads.userSegmentsData");if(n){var t=Object(r.i)();if(t&&n.userHash===t.id%9999)return n.segments;i.a.remove("gu.ads.userSegmentsData")}}return[]},o=function(){i.a.isAvailable()&&null===i.a.get("gu.ads.userSegmentsData")&&Object(r.i)()&&Object(r.g)(function(e){if(e&&e.adData){var n=[];Object.keys(e.adData).forEach(function(t){n.push(t+e.adData[t])}),i.a.set("gu.ads.userSegmentsData",{segments:n,userHash:e.id%9999},{expires:(new Date).getTime()+864e5})}})}},247:function(e,n){e.exports={markup:'<span class="inline-arrow inline-icon"><svg width="24" height="10" viewBox="0 0 24 10"><path d="M0 .7l10.5 8.4 1.1.9 1.1-.9 10.5-8.4-.5-.7-11.1 6.3-11-6.3-.6.7z"/></svg></span>'}},250:function(e,n){e.exports={markup:'<span class="inline-external-link inline-icon"><svg width="14" height="10" viewBox="0 0 14 10"><path d="M12 1.1L8.27 4.83l.902.9L13 2.07 13.2 5h.8V.4l-.4-.4H9v.8zM11.7 6.625V8.7H1.2V2.2h5l.8-.6V1H.6l-.6.6v7.8l.6.6h11.8l.6-.6V6h-.7z"/></svg></span>'}},251:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i=function(e,n,t){var i=e;return n&&(Array.isArray(n)?i=i.replace(/class="/,'class="'.concat(n.join(" ")," ")):window.console&&window.console.error&&window.console.error("Classes for inlineSvg must be an array: ".concat(n))),t?i.replace(/<span /,'<span title="'.concat(t,'" ')):i}},26:function(e,n,t){"use strict";t.d(n,"a",function(){return u}),t.d(n,"g",function(){return S}),t.d(n,"h",function(){return v}),t.d(n,"j",function(){return k}),t.d(n,"m",function(){return O}),t.d(n,"l",function(){return g}),t.d(n,"b",function(){return m}),t.d(n,"e",function(){return b}),t.d(n,"f",function(){return y}),t.d(n,"i",function(){return _}),t.d(n,"k",function(){return j}),t.d(n,"d",function(){return C}),t.d(n,"n",function(){return T}),t.d(n,"c",function(){return I});var i=t(1),r=t(0),a=t(9),o=t(21),c=t(57),s=!!window.location.hash.match(/[#&]noadsaf(&.*)?$/),u=function(){return Object(i.d)("gu_action_required_for")},d=function(){var e=Object(i.d)("GU_AF1");return!Number.isNaN(parseInt(e,10))},l=function(e){var n=new Date;return n.setDate(n.getDate()+e),n.getTime().toString()},p=function(e){Object(i.a)("gu_user_features_expiry",l(1)),Object(i.a)("gu_paying_member",e.contentAccess.paidMember),Object(i.a)("gu_recurring_contributor",e.contentAccess.recurringContributor),Object(i.a)("gu_digital_subscriber",e.contentAccess.digitalPack),Object(i.a)("gu_hide_support_messaging",!e.showSupportMessaging),e.oneOffContributionDate&&Object(i.a)("gu_one_off_contribution_date",e.oneOffContributionDate),Object(i.e)("gu_action_required_for"),"alertAvailableFor"in e&&Object(i.a)("gu_action_required_for",e.alertAvailableFor),!d()||s||e.contentAccess.digitalPack||Object(i.e)("GU_AF1"),e.contentAccess.digitalPack&&Object(i.a)("GU_AF1",l(2))},m=function(){Object(i.e)("gu_user_features_expiry"),Object(i.e)("gu_paying_member"),Object(i.e)("gu_recurring_contributor"),Object(i.e)("GU_AF1"),Object(i.e)("gu_action_required_for"),Object(i.e)("gu_digital_subscriber"),Object(i.e)("gu_hide_support_messaging"),Object(i.e)("gu_one_off_contribution_date")},f=function(e){var n=Object(i.d)(e),t=parseInt(n,10);return(new Date).getTime()>=t},h=function(){return r.a.get("switches").adFreeStrictExpiryEnforcement&&f("GU_AF1")},g=function(){return Object(o.l)()&&(!Object(i.d)("gu_user_features_expiry")||f("gu_user_features_expiry")||d()&&h())?Object(a.a)("".concat(r.a.get("page.userAttributesApiUrl"),"/me"),{mode:"cors",credentials:"include"}).then(p).catch(function(){}):(!Object(o.l)()&&!!(Object(i.d)("gu_action_required_for")||Object(i.d)("gu_user_features_expiry")||Object(i.d)("gu_paying_member")||Object(i.d)("gu_recurring_contributor")||Object(i.d)("gu_one_off_contribution_date")||Object(i.d)("GU_AF1")||Object(i.d)("gu_digital_subscriber")||Object(i.d)("gu_hide_support_messaging"))&&!s&&m(),Promise.resolve())},v=function(){return Object(o.l)()&&"false"!==Object(i.d)("gu_paying_member")},b=function(){return function(){var e=Object(i.d)("gu.contributions.contrib-timestamp");if(e){var n=parseInt(e,10);if(Number.isInteger(n))return n}return null}()||function(){var e=Object(i.d)("gu_one_off_contribution_date");if(e){var n=Date.parse(e);if(Number.isInteger(n))return n}return null}()},y=function(){var e=Object(i.d)("gu.contributions.recurring.contrib-timestamp.Monthly"),n=Object(i.d)("gu.contributions.recurring.contrib-timestamp.Annual"),t=e?parseInt(e,10):null,r=n?parseInt(n,10):null,a=t&&Number.isInteger(t)?t:null,o=r&&Number.isInteger(r)?r:null;return a||o?a&&o?Math.max(a,o):a||o||null:null},w=function(){var e=b();return null===e?null:Object(c.a)(e,Date.now())},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90,n=w();return null!==n&&n>e},k=function(){return Object(o.l)()&&"false"!==Object(i.d)("gu_recurring_contributor")||null!=Object(i.d)("gu.contributions.recurring.contrib-timestamp.Monthly")||null!=Object(i.d)("gu.contributions.recurring.contrib-timestamp.Annual")},T=function(){return"true"===Object(i.d)("gu_hide_support_messaging")},O=function(){return T()||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90,n=w();return null!==n&&n<=e}()||k()},j=["gu_paying_member","gu_digital_subscriber","gu_recurring_contributor","gu.contributions.recurring.contrib-timestamp.Monthly","gu.contributions.recurring.contrib-timestamp.Annual","gu.contributions.contrib-timestamp","gu_hide_support_messaging"],C=function(){Object(i.a)("gu.contributions.contrib-timestamp",Date.now().toString())},S=function(){return"true"===Object(i.d)("gu_digital_subscriber")||d()&&!h()},I=function(){var e=Object(i.d)("gu.contributions.contrib-timestamp");if(e){var n=parseInt(e,10);if(Number.isInteger(n)){var t=365-Object(c.a)(n,Date.now());Object(i.a)("gu.contributions.contrib-timestamp",n.toString(),t)}}}},27:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var i=t(83),r=function(e,n,t){var r='\n        <div>\n            <a class="component-button component-button--primary component-button--hasicon-right contributions__contribute--epic-member"\n              href="'.concat(e.url,'"\n              target="_blank">\n                ').concat(e.ctaText,'\n                <svg\n                class="svg-arrow-right-straight"\n                xmlns="http://www.w3.org/2000/svg"\n                viewBox="0 0 20 17.89"\n                preserveAspectRatio="xMinYMid"\n                aria-hidden="true"\n                focusable="false"\n                >\n                    <path d="M20 9.35l-9.08 8.54-.86-.81 6.54-7.31H0V8.12h16.6L10.06.81l.86-.81L20 8.51v.84z" />\n                </svg>\n            </a>\n        </div>'),a=n?'\n            <a class="component-button component-button--greyHollow component-button--greyHollow--for-epic component-button--hasicon-right contributions__contribute--epic-member contributions__secondary-button contributions__secondary-button--epic"\n              href='.concat(n.url,'\n              target="_blank">\n              ').concat(n.ctaText,'\n              <svg\n                class="svg-arrow-right-straight"\n                xmlns="http://www.w3.org/2000/svg"\n                viewBox="0 0 20 17.89"\n                preserveAspectRatio="xMinYMid"\n                aria-hidden="true"\n                focusable="false"\n                >\n                    <path d="M20 9.35l-9.08 8.54-.86-.81 6.54-7.31H0V8.12h16.6L10.06.81l.86-.81L20 8.51v.84z" />\n                </svg>\n            </a>'):"",o=t?'<label for="epic-reminder__reveal-reminder" class="epic-reminder__prompt-label">\n            <div data-cta-copy="'.concat(t.reminderCTA,'" tabindex="0" class="component-button component-button--greyHollow component-button--greyHollow--for-epic component-button--reminder-prompt contributions__secondary-button contributions__secondary-button--epic" role="checkbox">\n                    ').concat(t.reminderCTA,"\n            </div>\n        </label>"):"";return"\n        ".concat(t?'<input type="checkbox" id="epic-reminder__reveal-reminder" class="epic-reminder__reveal-reminder" />':"",'\n        <div class="contributions__buttons">\n            ').concat(r,"\n            ").concat(a,"\n            ").concat(o,"\n            ").concat(Object(i.a)("contributions__payment-logos contributions__contribute--epic-member"),"\n        </div>")}},3:function(e,n,t){"use strict";t.d(n,"a",function(){return p}),t.d(n,"b",function(){return m}),t.d(n,"d",function(){return c}),t.d(n,"g",function(){return d}),t.d(n,"f",function(){return h}),t.d(n,"e",function(){return g}),t.d(n,"h",function(){return u}),t.d(n,"i",function(){return s}),t.d(n,"c",function(){return b});var i=t(9),r=t(0),a=t(4),o={UK:"GB",US:"US",AU:"AU"},c=function(){return a.a.get("gu.geolocation")},s=function(e){var n=new Date;a.a.set("gu.geolocation",e,{expires:n.setDate(n.getDate()+10)})},u=function(){new Promise(function(e,n){var t=c();if(t)return e(t);Object(i.a)("/geolocation",{mode:"cors"}).then(function(t){t.country?e(t.country):n(new Error("No country in geolocation response"))}).catch(n)}).then(s)},d=function(){return c()||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UK";return o[e]}(r.a.get("page.edition"))},l={GBPCountries:{name:"United Kingdom",currency:"GBP",countries:["GB","FK","GI","GG","IM","JE","SH"],supportInternationalisationId:"uk"},UnitedStates:{name:"United States",currency:"USD",countries:["US"],supportInternationalisationId:"us"},AUDCountries:{name:"Australia",currency:"AUD",countries:["AU","KI","NR","NF","TV"],supportInternationalisationId:"au"},EURCountries:{name:"Europe",currency:"EUR",countries:["AD","AL","AT","BA","BE","BG","BL","CH","CY","CZ","DE","DK","EE","ES","FI","FO","FR","GF","GL","GP","GR","HR","HU","IE","IT","LI","LT","LU","LV","MC","ME","MF","IS","MQ","MT","NL","NO","PF","PL","PM","PT","RE","RO","RS","SE","SI","SJ","SK","SM","TF","TR","WF","YT","VA","AX"],supportInternationalisationId:"eu"},International:{name:"International",currency:"USD",countries:["AE","AF","AG","AI","AM","AO","AQ","AR","AS","AW","AZ","BB","BD","BF","BH","BI","BJ","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CC","CD","CF","CG","CI","CL","CM","CN","CO","CR","CU","CV","CW","CX","DJ","DM","DO","DZ","EC","EG","EH","ER","ET","FJ","FM","GA","GD","GE","GH","GM","GN","GQ","GS","GT","GU","GW","GY","HK","HM","HN","HT","ID","IL","IN","IO","IQ","IR","JM","JO","JP","KE","KG","KH","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LK","LR","LS","LY","MA","MD","MG","MH","MK","ML","MM","MN","MO","MP","MR","MS","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NG","NI","NP","NU","OM","PA","PE","PG","PH","PK","PN","PR","PS","PW","PY","QA","RU","RW","SA","SB","SC","SD","SG","SL","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TG","TH","TJ","TK","TL","TM","TN","TO","TT","TW","TZ","UA","UG","UM","UY","UZ","VC","VE","VG","VI","VN","VU","WS","YE","ZA","ZM","ZW"],supportInternationalisationId:"int"},NZDCountries:{name:"New Zealand",currency:"NZD",countries:["NZ","CK"],supportInternationalisationId:"nz"},Canada:{name:"Canada",currency:"CAD",countries:["CA"],supportInternationalisationId:"ca"}},p=function(e){var n=null;return Object.keys(l).forEach(function(t){l[t].countries.includes(e)&&(n=t)}),n||"International"},m=function(e){return l[p(e)].supportInternationalisationId},f={GBPCountries:"£",UnitedStates:"$",AUDCountries:"$",Canada:"CA$",EURCountries:"€",NZDCountries:"NZ$",International:"$"},h=function(){return f[p(d())]||"£"},g=function(e){return e&&f[p(e)]||"£"},v={GB:"the UK",US:"the US",AU:"Australia",CA:"Canada",DE:"Germany",NZ:"New Zealand",FR:"France",NL:"the Netherlands",IE:"Ireland",SE:"Sweden",CH:"Switzerland",NO:"Norway",BE:"Belgium",IT:"Italy",IN:"India",ES:"Spain",DK:"Denmark",SG:"Singapore",AT:"Austria",FI:"Finland",HK:"Hong Kong",LU:"Luxembourg",PT:"Portugal",AE:"the UAE",MX:"Mexico",BR:"Brazil",ZA:"South Africa",TW:"Taiwan",IL:"Israel",JP:"Japan",CZ:"the Czech Republic",GR:"Greece",IS:"Iceland",TH:"Thailand",MY:"Malaysia",RO:"Romania",PL:"Poland",HU:"Hungary",TR:"Turkey",KR:"Korea",SI:"Slovenia",CL:"Chile",CO:"Colombia",QA:"Qatar",HR:"Croatia",SK:"Slovakia",ID:"Indonesia",VN:"Vietnam",CN:"China",MT:"Malta",AR:"Argentina",KE:"Kenya",PR:"Puerto Rico",RU:"Russia",EE:"Estonia",CR:"Costa Rica",PA:"Panama"},b=function(e){return e?v[e]:void 0}},401:function(e,n,t){"use strict";t.d(n,"g",function(){return i}),t.d(n,"f",function(){return r}),t.d(n,"a",function(){return a}),t.d(n,"b",function(){return o}),t.d(n,"c",function(){return c}),t.d(n,"e",function(){return s}),t.d(n,"d",function(){return u}),t.d(n,"h",function(){return d}),t.d(n,"i",function(){return l});var i="euconsent",r=33696e3,a="__cmp",o=112,c=1,s=1,u="GU_TK",d={storeConsentGlobally:!1,storePublisherData:!1,logging:!1,gdprApplies:!0},l=[{version:1,fields:[{name:"cookieVersion",type:"int",numBits:6},{name:"created",type:"date",numBits:36},{name:"lastUpdated",type:"date",numBits:36},{name:"cmpId",type:"int",numBits:12},{name:"cmpVersion",type:"int",numBits:12},{name:"consentScreen",type:"int",numBits:6},{name:"consentLanguage",type:"6bitchar",numBits:12},{name:"vendorListVersion",type:"int",numBits:12},{name:"purposeIdBitString",type:"bits",numBits:24},{name:"maxVendorId",type:"int",numBits:16},{name:"isRange",type:"bool",numBits:1},{name:"vendorIdBitString",type:"bits",numBits:function(e){return e.maxVendorId},validator:function(e){return!e.isRange}},{name:"defaultConsent",type:"bool",numBits:1,validator:function(e){return e.isRange}},{name:"numEntries",numBits:12,type:"int",validator:function(e){return e.isRange}},{name:"vendorRangeList",type:"list",listCount:function(e){return e.numEntries},validator:function(e){return e.isRange},fields:[{name:"isRange",type:"bool",numBits:1},{name:"startVendorId",type:"int",numBits:16},{name:"endVendorId",type:"int",numBits:16,validator:function(e){return e.isRange}}]}]}].reduce(function(e,n){return e[n.version]=n,e},{})},42:function(e,n,t){"use strict";t.d(n,"b",function(){return o}),t.d(n,"c",function(){return c}),t.d(n,"a",function(){return s});var i=t(4),r="gu.contributions.views",a=i.a.get(r)||[],o=function(e){a.push({date:(new Date).getTime(),testId:e}),i.a.set(r,a.slice(-50))},c=function(e,n){var t=1e3*e*60*60*24,i=(new Date).getTime();return a.filter(function(e){return(!n||e.testId===n)&&e.date>i-t}).length},s=function(){i.a.remove(r)}},445:function(e,n,t){"use strict";t.d(n,"a",function(){return d});var i=t(15),r=t.n(i),a=t(25),o=t.n(a),c=t(2),s=t.n(c),u=t(6),d=function(){function e(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;if(r()(this,e),s()(this,"component",void 0),s()(this,"controls",void 0),t){var i=Array.from(t.querySelectorAll("[data-toggle]"));this.component=t,this.controls=i,u.a.on("module:clickstream:click",function(e){n.reset(e?e.target:null)})}}return o()(e,[{key:"init",value:function(){this.controls.forEach(this.prepareControl,this)}},{key:"toggle",value:function(e){var n=this;this.controls.forEach(function(t){t===e?t.classList.contains("is-active")?n.close(t):n.open(t):n.close(t)})}},{key:"reset",value:function(e){var n=["js-search-old","js-search-new"];this.controls.filter(function(t){return!(e===t||n.includes(t.getAttribute("data-toggle")))}).forEach(this.close,this)}},{key:"prepareControl",value:function(e){var n=this,t=document.querySelector(".js-profile-nav"),i=t&&t.classList.contains("is-signed-in");e.classList.contains("js-toggle-ready")||this.getTarget(e)&&(i||"true"!==e.getAttribute("data-toggle-signed-in"))&&(e.classList.add("js-toggle-ready"),e.addEventListener("click",function(t){t.preventDefault(),n.toggle(e)}))}},{key:"getTarget",value:function(e){var n=e.getAttribute("data-toggle");if(n&&this.component)return this.component.querySelector(".".concat(n))}},{key:"open",value:function(e){var n=this.getTarget(e);e.classList.add("is-active"),n&&n.classList.remove("is-off")}},{key:"close",value:function(e){var n=this.getTarget(e);e.classList.remove("is-active"),n&&n.classList.add("is-off")}}]),e}()},45:function(e,n){e.exports={markup:'<span class="inline-close-central inline-icon"><svg width="30" height="30"><path d="M21 9.8l-.8-.8-5.2 4.8-5.2-4.8-.8.8 4.8 5.2-4.8 5.2.8.8 5.2-4.8 5.2 4.8.8-.8-4.8-5.2 4.8-5.2"/></svg></span>'}},48:function(e,n,t){"use strict";t.d(n,"d",function(){return i}),t.d(n,"c",function(){return r}),t.d(n,"b",function(){return a}),t.d(n,"a",function(){return o});var i=function(e,n){return"".concat(e?'<span className="contributions__highlight">'.concat(e,"</span>"):"",'\n    <a href="').concat(n,'" target="_blank" class="u-underline">Make a contribution</a> - The Guardian')},r=function(e,n){return"".concat(e?'<span className="contributions__highlight">'.concat(e,"</span>"):"",'\n    <div class="component-button--liveblog-container">\n        <a class="component-button component-button--liveblog component-button--hasicon-right contributions__contribute--epic-member"\n          href=').concat(n,'\n          target="_blank">\n          Make a contribution\n        </a>\n    </div>')},a=function(e,n){return"".concat(e?'<span className="contributions__highlight">'.concat(e,"</span>"):"",'\n    <div class="component-button--liveblog-container">\n        <a class="component-button component-button--liveblog component-button--hasicon-right contributions__contribute--epic-member"\n          href=').concat(n,'\n          target="_blank">\n          Make a contribution\n          <svg\n            class="svg-arrow-right-straight"\n            xmlns="http://www.w3.org/2000/svg"\n            viewBox="0 0 20 17.89"\n            preserveAspectRatio="xMinYMid"\n            aria-hidden="true"\n            focusable="false"\n            >\n                <path d="M20 9.35l-9.08 8.54-.86-.81 6.54-7.31H0V8.12h16.6L10.06.81l.86-.81L20 8.51v.84z" />\n            </svg>\n        </a>\n    </div>')},o=function(e){var n=e.copy,t=e.componentName,r=e.supportURL,a=e.lastSentenceTemplate||i;return'<div class="block block--content is-epic" data-component="'.concat(t,'">\n        <p class="block-time published-time">\n            <a href="#" itemprop="url" class="block-time__link">\n                <time data-relativeformat="med" itemprop="datePublished" class="js-timestamp"></time>\n                <span class="block-time__absolute"></span>\n            </a>\n        </p>\n        <div class="block-elements block-elements--no-byline">\n            ').concat(n.paragraphs.map(function(e){return"<p><em>".concat(e,"</em></p>")}).join(""),"\n            <p><em>").concat(a(n.highlightedText,r),"</em></p>\n        </div>\n    </div>")}},49:function(e,n,t){"use strict";var i=t(147),r=t(13),a=t(3),o=t(27),c=Object(r.j)({id:"ContributionsEpicAskFourEarning",campaignId:"kr1_epic_ask_four_earning",geolocation:Object(a.g)(),highPriority:!1,start:"2017-01-24",expiry:"2020-01-27",author:"Jonathan Rankin",description:"This places the epic on all articles for all users, with a limit of 4 impressions in any given 30 days",successMeasure:"Conversion rate",idealOutcome:"Acquires many Supporters",audienceCriteria:"All",audience:1,audienceOffset:0,variants:[{id:"control",products:["CONTRIBUTION","MEMBERSHIP_SUPPORTER"],buttonTemplate:o.a}]}),s=Object(r.j)({id:"AcquisitionsEpicAlwaysAskIfTagged",campaignId:"epic_always_ask_if_tagged",geolocation:Object(a.g)(),highPriority:!1,start:"2017-05-23",expiry:"2020-01-27",author:"Jonathan Rankin",description:"This guarantees that any on any article that is tagged with a tag that is on the allowed list of tags as set by the tagging tool, the epic will be displayed",successMeasure:"Conversion rate",idealOutcome:"We can always show the epic on articles with a pre selected tag",audienceCriteria:"All",audience:1,audienceOffset:0,useTargetingTool:!0,pageCheck:function(e){return"Article"===e.contentType||"Interactive"===e.contentType},variants:[{id:"control",products:["CONTRIBUTION","MEMBERSHIP_SUPPORTER"],deploymentRules:"AlwaysAsk",buttonTemplate:o.a}]}),u=t(144),d=t(60),l=Object(d.b)(17),p=Object(a.g)(),m='<span class="engagement-banner__highlight"> Support The Guardian from as little as '.concat(Object(a.e)(p),"1</span>"),f={id:"ContributionsBannerArticlesViewed",campaignId:"contributions_banner_articles_viewed",start:"2019-07-10",expiry:"2020-10-30",author:"Tom Forbes",description:"show number of articles viewed in contributions banner",audience:1,audienceOffset:0,successMeasure:"AV per impression",audienceCriteria:"All",idealOutcome:"variant design performs at least as well as control",canRun:function(){return l>=5&&!!Object(a.c)(p)},showForSensitive:!0,componentType:"ACQUISITIONS_ENGAGEMENT_BANNER",geolocation:p,variants:[{id:"variant",test:function(){},engagementBannerParams:{leadSentence:"You’ve read ".concat(l," Guardian articles in the last two months – so we hope you will consider supporting us today."),messageText:"Unlike many news organisations, we made a choice to keep our journalism free and available for all. At a time when factual information is a necessity, we believe that each of us, around the world, deserves access to accurate reporting with integrity at its heart. Every contribution, big or small, is so valuable – it is essential in protecting our editorial independence.",ctaText:m,template:u.a}}]},h=t(149),g=t(97),v=t(98),b=t(150),y=t(151),w=t(84),_=t(10),k=t(8),T=t(0),O=t(64),j=t(26),C=Object(a.g)(),S=function(e){if(e.ok)return e;throw new Error("Contributions fetch failed with response code: ".concat(e.status))},I=function(e){return e.json()},A=["CONTRIBUTION","MEMBERSHIP_SUPPORTER"],x={id:"FrontendDotcomRenderingEpic",campaignId:"frontend_dotcom_rendering_epic",highPriority:!0,start:"2020-03-13",expiry:"2020-05-13",author:"Andre Silva",description:"A/B test Default Epic on Frontend vs DCR, both from a remote source, to compare Epic performance.",successMeasure:"Conversion rate",idealOutcome:"No difference between control and variant",audienceCriteria:"All",audience:1,audienceOffset:0,geolocation:C,canRun:function(){return"US"!==C&&T.a.get("page").dcrCouldRender&&"control"===T.a.get("tests").dotcomRenderingControl},variants:[{id:"frontend",products:A,test:function(e,n,t){var i=T.a.get("ophan"),o=T.a.get("page"),c=Object(a.g)(),s={tracking:{ophanPageId:i.pageViewId,ophanComponentId:"ACQUISITIONS_EPIC",platformId:"GUARDIAN_WEB",campaignCode:n.campaignCode,abTestName:t.id,abTestVariant:n.id,referrerUrl:window.location.origin+window.location.pathname},localisation:{countryCode:c},targeting:{contentType:o.contentType,sectionName:o.section,shouldHideReaderRevenue:o.shouldHideReaderRevenue,isMinuteArticle:T.a.hasTone("Minute"),isPaidContent:o.isPaidContent,isSensitive:o.isSensitive,tags:function(e){var n=e.keywordIds.split(","),t=e.keywords.split(",");return n.map(function(e,n){return{id:e,type:"Keyword",title:t[n]}})}(o),showSupportMessaging:!Object(j.n)(),isRecurringContributor:Object(j.j)(),lastOneOffContributionDate:Object(j.e)(),mvtId:Object(O.c)(),countryCode:c}},u="epic_".concat("frontend_dotcom_rendering_epic");Object(r.c)(u),Object(r.l)(t,n.campaignCode,A,n.id),Object(w.getBodyEnd)(s).then(S).then(I).then(function(e){if(e&&e.data){var i=e.data.html,a=e.data.css,o="<style>".concat(a,"</style>").concat(i);return k.a.write(function(){var e=document.querySelector(".submeta");if(e){var i=e.parentNode;if(i){var a=document.createElement("div");i.insertBefore(a,e),a.attachShadow?(console.log("epic - has shadow dom"),a.attachShadow({mode:"open"}).innerHTML=o):(console.log("epic - no shadow dom"),a.innerHTML=o),Object(r.d)(t,A,n.campaignCode),Object(r.m)(a,t,n.campaignCode,u,A)}}else Object(_.a)(new Error("Could not find target element for Epic"),{},!1)})}}).catch(function(e){console.log(e),Object(_.a)(e,{},!1)})}}]},E=Object(r.j)(x),R=t(152),M=Object(a.g)(),N="Support The Guardian from as little as %%CURRENCY_SYMBOL%%1 – and it only takes a minute. Thank you.",L={heading:"Since you’re here...",paragraphs:["... we’re asking readers, like you, to make a contribution in support of the Guardian’s open, independent journalism. This is turning into a turbulent year with a succession of international crises. The Guardian is in every corner of the globe, calmly reporting with tenacity, rigour and authority on the most critical events of our lifetimes. At a time when factual information is both scarcer and more essential than ever, we believe that each of us deserves access to accurate reporting with integrity at its heart.","More people than ever before are reading and supporting our journalism, in more than 180 countries around the world. And this is only possible because we made a different choice: to keep our reporting open for all, regardless of where they live or what they can afford to pay.","We have upheld our editorial independence in the face of the disintegration of traditional media – with social platforms giving rise to misinformation, the seemingly unstoppable rise of big tech and independent voices being squashed by commercial ownership. The Guardian’s independence means we can set our own agenda and voice our own opinions. Our journalism is free from commercial and political bias – never influenced by billionaire owners or shareholders. This makes us different. It means we can challenge the powerful without fear and give a voice to those less heard.","None of this would have been attainable without our readers’ generosity – your financial support has meant we can keep investigating, disentangling and interrogating. It has protected our independence, which has never been so critical. We are so grateful.","We need your support so we can keep delivering quality journalism that’s open and independent. And that is here for the long term. Every reader contribution, however big or small, is so valuable."],highlightedText:N},B={heading:"America faces an epic choice...",paragraphs:["... in the coming year, and the results will define the country for a generation. These are perilous times. Over the last three years, much of what the Guardian holds dear has been threatened – democracy, civility, truth. This US administration is establishing new norms of behaviour. Anger and cruelty disfigure public discourse and lying is commonplace. Truth is being chased away. But with your help we can continue to put it center stage.","Rampant disinformation, partisan news sources and social media's tsunami of fake news is no basis on which to inform the American public in 2020. The need for a robust, independent press has never been greater, and with your support we can continue to provide fact-based reporting that offers public scrutiny and oversight. Our journalism is free and open for all, but it's made possible thanks to the support we receive from readers like you across America in all 50 states.","Our journalism relies on our readers’ generosity – your financial support has meant we can keep investigating, disentangling and interrogating. It has protected our independence, which has never been so critical. We are so grateful.","We hope you will consider supporting us today. We need your support to keep delivering quality journalism that’s open and independent. Every reader contribution, however big or small, is so valuable."],highlightedText:N},U="US"===M?Object(r.a)(B,!1,M):Object(r.a)(L,!1,M),P=Object(r.j)({id:"ContributionsEpicPrecontributionReminderRoundTwo",campaignId:"epic_precontribution_reminder_round_two",start:"2020-03-18",expiry:"2020-07-01",author:"Joshua Lieberman",description:"Tests what adding the reminder does to the conversion rate of the epic",successMeasure:"Conversion rate",idealOutcome:"Add reminder feature without hurting conversion rate",audienceCriteria:"All",audience:.15,audienceOffset:.1,geolocation:M,highPriority:!0,variants:[{id:"control",buttonTemplate:o.a,products:[],copy:U},{id:"support-us",buttonTemplate:o.a,products:[],copy:U,showReminderFields:{reminderCTA:"Support us later",reminderDate:"2020-07-19 00:00:00",reminderDateAsString:"July 2020"}},{id:"remind-me",buttonTemplate:o.a,products:[],copy:U,showReminderFields:{reminderCTA:"Remind me in July",reminderDate:"2020-07-19 00:00:00",reminderDateAsString:"July 2020"}}]}),D=t(58),H=t(48),G=Object(a.g)(),V={paragraphs:["In these extraordinary times, the Guardian’s editorial independence has never been more important. Because no one sets our agenda, or edits our editor, we can keep delivering quality, trustworthy, fact-checked journalism each and every day. Free from commercial or political bias, we can report fearlessly on world events and challenge those in power.","Your support protects the Guardian’s independence. We believe every one of us deserves equal access to accurate news and calm explanation. No matter how unpredictable the future feels, we will remain with you, delivering high quality news so we can all make critical decisions about our lives, health and security – based on fact, not fiction."],highlightedText:"For as little as %%CURRENCY_SYMBOL%%1, you can support us, and it only takes a minute. Thank you."},F=function(e){return function(n,t){return Object(H.a)({copy:t,componentName:n.componentName,supportURL:n.supportURL,lastSentenceTemplate:e})}},q=Object(r.j)({id:"ContributionsEpicLiveblogDesignTestR1",campaignId:"contributions-epic-liveblog-design-test-r1",geolocation:Object(a.g)(),highPriority:!0,start:"2020-03-26",expiry:"2020-06-01",author:"Tom Forbes",description:"Test new designs for the liveblog",successMeasure:"Conversion rate",idealOutcome:"Acquires many Supporters",audienceCriteria:"All",audience:1,audienceOffset:0,pageCheck:r.i,variants:[{id:"control",products:["CONTRIBUTION","MEMBERSHIP_SUPPORTER"],copy:Object(r.a)(V,!1,G),template:F(H.d),test:D.a},{id:"v1",products:["CONTRIBUTION","MEMBERSHIP_SUPPORTER"],copy:Object(r.a)(V,!1,G),template:F(H.c),test:D.a},{id:"v2",products:["CONTRIBUTION","MEMBERSHIP_SUPPORTER"],copy:Object(r.a)(V,!1,G),template:F(H.b),test:D.a}]}),K=t(153),z=t(61),W=t.n(z),Y=t(45),J=t.n(Y),Z=function(e){return'\n        <div class="engagement-banner__close">\n            <div class="engagement-banner__roundel">\n                '.concat(W.a.markup,'\n            </div>\n            <button tabindex="4" class="button engagement-banner__close-button js-site-message-close js-engagement-banner-close-button" data-link-name="hide release message">\n                <span class="u-h">Close the support banner</span>\n                ').concat(J.a.markup,'\n            </button>\n        </div>\n\n        <div class="engagement-banner__container engagement-banner__container--covid-banner">\n            <div class="engagement-banner__header-container">\n                <div class="engagement-banner__header">\n                    <h2 class="engagement-banner__header-text">\n                    <span>').concat(e.titles&&e.titles[0]?e.titles[0]:"","</span>\n                    <span>").concat(e.titles&&e.titles[1]?e.titles[1]:"",'</span>\n                    </h2>\n                </div>\n            </div>\n\n            <div class="engagement-banner__text-container">\n                <div class="engagement-banner__body">\n                    <p><span class="engagement-banner__lead-sentence">').concat(e.leadSentence?e.leadSentence:"","</span>").concat(e.messageText,'</p>\n                </div>\n\n                <div class="engagement-banner__cta-container">\n                    <div class="engagement-banner__cta">\n                        <a tabIndex="3" class="component-button component-button--hasicon-right component-button--secondary" href="').concat(e.linkUrl,'">\n                            ').concat(e.ctaText,'\n                            <svg\n                                class="svg-arrow-right-straight"\n                                xmlns="http://www.w3.org/2000/svg"\n                                viewBox="0 0 20 17.89"\n                                preserveAspectRatio="xMinYMid"\n                                aria-hidden="true"\n                                focusable="false"\n                            >\n                                <path d="M20 9.35l-9.08 8.54-.86-.81 6.54-7.31H0V8.12h16.6L10.06.81l.86-.81L20 8.51v.84z" />\n                            </svg>\n                        </a>\n                    </div>\n\n\n                    ').concat(e.secondaryLinkLabel&&e.subsLinkUrl?'\n                        <div class="engagement-banner__cta engagement-banner__cta--subscribe">\n                            <a tabIndex="3" class="component-button component-button--hasicon-right component-button--primary component-button--primary--covid-banner" href="'.concat(e.subsLinkUrl,'">\n                                    ').concat(e.secondaryLinkLabel,'\n                                    <svg\n                                        class="svg-arrow-right-straight"\n                                        xmlns="http://www.w3.org/2000/svg"\n                                        viewBox="0 0 20 17.89"\n                                        preserveAspectRatio="xMinYMid"\n                                        aria-hidden="true"\n                                        focusable="false"\n                                    >\n                                        <path d="M20 9.35l-9.08 8.54-.86-.81 6.54-7.31H0V8.12h16.6L10.06.81l.86-.81L20 8.51v.84z" />\n                                    </svg>\n                                </a>\n                            </div>'):"","\n\n                </div>\n            </div>\n    ")},Q=Object(a.g)(),$=["Trust has never","mattered more"],X="US"===Q||"AU"===Q?void 0:"Subscribe",ee={id:"ContributionsCovidBannerRoundOne",campaignId:"covid_banner_1",start:"2020-03-26",expiry:"2020-06-26",author:"Joshua Lieberman",description:"custom banner for the public health crisis",audience:1,audienceOffset:0,successMeasure:"AV per impression",audienceCriteria:"All",idealOutcome:"to learn about copy from how variants perform vs control",showForSensitive:!0,componentType:"ACQUISITIONS_ENGAGEMENT_BANNER",canRun:function(){return!0},geolocation:Q,variants:[{id:"control",test:function(){},engagementBannerParams:{titles:$,messageText:"Millions of readers across the world are visiting the Guardian every day for open, independent, accurate journalism. Trusted news has never been so important, and neither has your support.",leadSentence:"Thanks to your support we can continue to provide our vital reporting – in times of crisis and beyond. ",ctaText:"Contribute",template:Z,hasTicker:!0,bannerModifierClass:"covid-banner",minArticlesBeforeShowingBanner:2,secondaryLinkLabel:X}},{id:"accuracy",test:function(){},engagementBannerParams:{titles:$,messageText:"No matter how uncertain the future feels, you can rely on us. Quality journalism can help us all make critical decisions about our lives, health and security – based on fact, not fiction. Trusted news has never been so important, and neither has your support.",leadSentence:"Thanks to your support we can continue to provide accurate, independent news and calm explanation. ",ctaText:"Contribute",template:Z,hasTicker:!0,bannerModifierClass:"covid-banner",minArticlesBeforeShowingBanner:2,secondaryLinkLabel:X}},{id:"open",test:function(){},engagementBannerParams:{titles:$,messageText:"We keep our journalism free from a paywall because we believe everyone deserves equal access to accurate news and calm explanation. Trusted news has never been so important, and neither has your support.",leadSentence:"Thanks to your support we can continue to provide quality, independent reporting that’s open to readers across the world. ",ctaText:"Contribute",template:Z,hasTicker:!0,bannerModifierClass:"covid-banner",minArticlesBeforeShowingBanner:2,secondaryLinkLabel:X}}]};t.d(n,"a",function(){return ne}),t.d(n,"d",function(){return te}),t.d(n,"c",function(){return ie}),t.d(n,"b",function(){return re});var ne=[i.a,b.a,y.a,h.a,g.a,v.a,R.a,K.a],te=E,ie=[q,P,c,s],re=[ee,f]},54:function(e,n,t){"use strict";t.d(n,"a",function(){return g});var i=t(25),r=t.n(i),a=t(2),o=t.n(a),c=t(15),s=t.n(c),u=t(17),d=t.n(u),l=t(5),p=t.n(l),m=t(9),f=t(31),h=t.n(f),g=function(){function e(){s()(this,e),o()(this,"useBem",void 0),o()(this,"templateName",void 0),o()(this,"componentClass",void 0),o()(this,"endpoint",void 0),o()(this,"classes",void 0),o()(this,"elem",void 0),o()(this,"template",void 0),o()(this,"rendered",void 0),o()(this,"destroyed",void 0),o()(this,"elems",void 0),o()(this,"options",void 0),o()(this,"defaultOptions",void 0),o()(this,"responseDataKey",void 0),o()(this,"autoupdated",void 0),o()(this,"updateEvery",void 0),o()(this,"fetchData",void 0),o()(this,"manipulationType",void 0),o()(this,"t",void 0),this.useBem=!1,this.templateName=null,this.componentClass=null,this.endpoint=null,this.classes=null,this.elem=null,this.template=null,this.rendered=!1,this.destroyed=!1,this.elems=null,this.options={},this.defaultOptions={},this.responseDataKey="html",this.autoupdated=!1,this.updateEvery=60,this.fetchData=null,this.manipulationType="append",this.t=null}return r()(e,[{key:"attachTo",value:function(e){this.checkAttached(),this.elem=e,this._prerender(),this._ready()}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;this.checkAttached();var n=this.template;if(!n&&this.templateName){var t=document.getElementById("tmpl-".concat(this.templateName));t&&(n=t.innerHTML)}return n&&(this.elem=p.a.create(n)[0],this._prerender(),p()(e)[this.manipulationType](this.elem)),this._ready(),this}},{key:"checkAttached",value:function(){if(this.rendered)throw new function e(n){return s()(this,e),new Error("Component: ".concat(n))}("Already rendered")}},{key:"fetch",value:function(e,n){var t=this;return this.checkAttached(),n&&(this.responseDataKey=n),this._fetch().then(function(n){t.elem=p.a.create(n[t.responseDataKey])[0],t._prerender(),t.destroyed||(p()(e)[t.manipulationType](t.elem),t._ready(t.elem))}).catch(function(e){return t.error(e)})}},{key:"_fetch",value:function(){var e=this,n="function"==typeof this.endpoint?this.endpoint():this.endpoint;return"string"==typeof n&&Object.keys(this.options).forEach(function(t){var i=e.options[t];n&&i&&(n=n.replace(":".concat(t),i))}),n?Object(m.a)(n,{mode:"cors",body:this.fetchData}).then(function(n){return e.fetched(n),n}):Promise.resolve({})}},{key:"_ready",value:function(e){this.destroyed||(this.rendered=!0,this._autoupdate(),this.ready(e))}},{key:"_prerender",value:function(){this.elems={},this.prerender()}},{key:"_autoupdate",value:function(){var e=this,n=function(){e.t=setTimeout(function(){return t()},1e3*e.updateEvery)},t=function(){e._fetch().then(function(t){e.autoupdate(p.a.create(t[e.responseDataKey])[0]),e.autoupdated&&n()}).catch(function(){n()})};this.autoupdated&&n()}},{key:"prerender",value:function(){}},{key:"ready",value:function(e){}},{key:"error",value:function(e,n){}},{key:"fetched",value:function(e){}},{key:"autoupdate",value:function(e){var n=this.elem;this.elem=e,this._prerender(),p()(n).replaceWith(this.elem)}},{key:"dispose",value:function(){}},{key:"on",value:function(e,n,t){if("function"==typeof n){var i=n;d.a.on(this.elem,e,i.bind(this))}else if("function"==typeof t){var r=n.length?n:[n];d.a.on(this.elem,e,r,t.bind(this))}return this}},{key:"emit",value:function(e,n){d.a.fire(this.elem,e,n)}},{key:"getElem",value:function(e){if(this.elems&&this.elems[e])return this.elems[e];var n=h()(this.getClass(e),this.elem)[0];return n&&this.elems&&(this.elems[e]=n),n}},{key:"getClass",value:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"":".")+(this.useBem&&this.componentClass?"".concat(this.componentClass,"__").concat(e):this.classes&&this.classes[e]||"")}},{key:"setState",value:function(e,n){var t=n?this.getElem(n):this.elem,i=p()(t);this.componentClass&&i.addClass("".concat(this.componentClass+(n?"__".concat(n):""),"--").concat(e))}},{key:"removeState",value:function(e,n){var t=n?this.getElem(n):this.elem,i=p()(t);this.componentClass&&i.removeClass("".concat(this.componentClass+(n?"__".concat(n):""),"--").concat(e))}},{key:"toggleState",value:function(e,n){var t=n?this.getElem(n):this.elem,i=p()(t);this.componentClass&&i.toggleClass("".concat(this.componentClass+(n?"__".concat(n):""),"--").concat(e))}},{key:"hasState",value:function(e,n){var t=n?this.getElem(n):this.elem,i=p()(t);return!!this.componentClass&&i.hasClass("".concat(this.componentClass+(n?"__".concat(n):""),"--").concat(e))}},{key:"setOptions",value:function(e){this.options=Object.assign({},this.defaultOptions,this.options,e)}},{key:"destroy",value:function(){this.elem&&(p()(this.elem).remove(),delete this.elem),this.t&&window.clearTimeout(this.t),this.t=null,this.autoupdated=!1,d.a.off(this.elem),this.destroyed=!0,this.rendered=!1}}]),e}()},56:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var i=t(17),r=t.n(i),a=t(40),o=t.n(a),c=t(94),s=function(e,n,t){var i=!1,a={firstview:c.a};return r.a.on(n,"scroll",o()(function(){var n=function(e,n){var t=Object.assign({},{left:0,right:0,top:0,bottom:0},n),i=e.getBoundingClientRect(),r=window.innerHeight,a=window.innerWidth,o=i.top+t.top,c=i.bottom-t.bottom,s=i.left-t.left,u=i.right+t.right;return o<r&&c>0&&s<a&&u>0}(e,t);a.firstview&&n&&!i&&(i=!0,a.firstview(e))},200)),{on:function(e,n){a[e]=n}}}},57:function(e,n,t){"use strict";t.d(n,"a",function(){return i}),t.d(n,"b",function(){return r});var i=function(e,n){var t=n-e;return Math.floor(t/864e5)},r=function(e){return(new Date).setHours(0,0,0,0)>new Date(e)}},58:function(e,n,t){"use strict";t.d(n,"a",function(){return p});var i=t(28),r=t.n(i),a=t(42),o=t(11),c=t(6),s=t(56),u=t(8),d=!1,l=function(e,n,t){var i=function(){var e=document.getElementsByClassName("block"),n=document.getElementsByClassName("js-insert-epic-after"),t=document.getElementsByClassName("is-epic"),i=e.length>4;if(n.length||t.length||!i)return Array.from(n);var r=e[Math.floor(3*Math.random())];return Array.from(n).concat(r)}().map(function(e){return[e,function(e){var n=e.querySelector("time"),t=e.querySelector(".block-time__absolute");if(n&&t){var i=n.parentNode,r=i instanceof HTMLAnchorElement?i.href:"";return{datetime:n.getAttribute("datetime")||"",title:n.getAttribute("title")||"",date:n.innerHTML,time:t.innerHTML,blockHref:r}}}(e)]});return u.a.write(function(){i.forEach(function(i){var u=r()(i,2),d=u[0],l=u[1];if(l){var p=o.a.create(e);p.insertAfter(d),c.a.emit(t.insertEvent),Object(o.a)(d).removeClass("js-insert-epic-after"),function(e,n){var t=e.querySelector("time"),i=e.querySelector(".block-time__absolute");if(t&&i){var r=t.parentNode;r instanceof HTMLAnchorElement&&(r.href=n.blockHref),t.setAttribute("datetime",n.datetime),t.setAttribute("title",n.title),t.innerHTML=n.date,i.innerHTML=n.time}}(p[0],l),function(e,n,t){Object(s.a)(e,window,{top:18}).on("firstview",function(){Object(a.b)(n.id),c.a.emit(t.viewEvent,{componentType:t.componentType,campaignCode:n.campaignCode})})}(d,n,t)}})})},p=function(e,n,t){l(e,n,t),d||(c.a.on("modules:autoupdate:updates",function(){l(e,n,t)}),d=!0)}},60:function(e,n,t){"use strict";t.d(n,"g",function(){return E}),t.d(n,"h",function(){return R}),t.d(n,"i",function(){return B}),t.d(n,"j",function(){return P}),t.d(n,"k",function(){return U}),t.d(n,"c",function(){return A}),t.d(n,"a",function(){return C}),t.d(n,"f",function(){return S}),t.d(n,"d",function(){return D}),t.d(n,"e",function(){return H}),t.d(n,"b",function(){return G});var i,r,a,o,c,s,u=t(7),d=t.n(u),l=t(11),p=t(4),m=t(19),f=t(14),h=t.n(f),g=["uk","us","au"],v=["business","commentisfree","culture","environment","media","money","sport","technology"],b=[{tid:"section",tname:"sectionName"},{tid:"keywordIds",tname:"keywords"},{tid:"seriesId",tname:"series"},{tid:"authorIds",tname:"author"}],y=[{type:"content",indexInRecord:1},{type:"front",indexInRecord:2}],w=Math.floor(Date.now()/864e5),_=(1!==(r=(i=new Date).getDay()||7)&&i.setHours(-24*(r-1)),Math.floor(i.getTime()/864e5)),k=!1,T=function(e){o=e,p.a.set("gu.history.summary",e)},O=function(){return a=a||p.a.get("gu.history")||[]},j=function(){return o||(o=p.a.get("gu.history.summary"),h()(o)&&h()(o.tags)&&"number"==typeof o.periodEnd||(o={periodEnd:w,tags:{},showInMegaNav:!0})),o},C=function(e){var n=j();delete n.tags[e],T(n)},S=function(e){var n=O().find(function(n){return n[0]===e});return!!(n&&n[1]>1)},I=function(e){var n=new RegExp("^(".concat(g.join("|"),")/(").concat(v.join("|"),")$")),t=new RegExp("^(".concat(g.join("|"),")/"));if(e){var i=e.replace(/^\/|\/$/g,"");i.match(n)&&(i=i.replace(t,""));var r=i.split("/");return 2===r.length&&r[0]===r[1]&&(i=[r[0]].join("/")),i}return""},A=function(e){var n=e&&e.flush;return c=!n&&c||function(e){var n=j().tags,t=Object.keys(n),i=Object.assign({},{number:100,weights:{},thresholds:{}},e);return i.whitelist&&(t=t.filter(function(e){return i.whitelist.includes(e)})),i.blacklist&&(t=t.filter(function(e){return!i.blacklist.includes(e)})),t.map(function(e){var t=n[e],r=y.reduce(function(e,n){return e+function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=0,r=e.reduce(function(e,t){var r=t[0],a=t[1];return i+=a,e+n*(9+a)*(90-r)},0);return i<t?0:r}(t[n.indexInRecord],i.weights[n.type],i.thresholds[n.type])},0);return{idAndName:[e,t[0]],rank:r}}).filter(Boolean).sort(function(e,n){return e.rank-n.rank}).slice(-i.number).map(function(e){return e.idAndName}).reverse()}({blacklist:s=s||Object(l.a)(".js-navigation-header .js-top-navigation a").map(function(e){return I(Object(m.c)(Object(l.a)(e).attr("href")))}),number:10,weights:{content:1,front:5},thresholds:{content:5,front:1}})},x=function(e){return(e||"").split(",")[0]},E=function(e){var n,t=e.pageId,i=0;e.isFront||((n=O().filter(function(e){var n=Array.isArray(e),r=n&&e[0]===t;return i=r?e[1]:i,n&&!r})).unshift([t,i+1]),function(e){a=e,p.a.set("gu.history",e)}(n.slice(0,50)))},R=function(e,n){var t=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,t=n-e.periodEnd;return 0!==t&&(e.periodEnd=n,Object.keys(e.tags).forEach(function(n){var i=e.tags[n],r=y.map(function(e){if(i[e.indexInRecord]){var n=i[e.indexInRecord].map(function(e){var n=e[0]+t;return n<90&&n>=0&&[n,e[1]]}).filter(Boolean);return n.length>1||1===n.length&&n[0][0]<10?n:[]}return[]});r.some(function(e){return e.length})?e.tags[n]=[i[0]].concat(r):delete e.tags[n]})),e}(j(),n),i=I(e.pageId),r=!1,a=b.reduceRight(function(n,t){var a=I(x(e[t.tid])),o=a&&x(e[t.tname]);return a&&o&&(n[a]=o),r=r||a===i,n},{});Object.keys(a).forEach(function(e){var n=a[e],i=t.tags[e]||[];y.forEach(function(e){i[e.indexInRecord]=i[e.indexInRecord]||[]}),i[0]=n;var o=i[r?2:1],c=o.find(function(e){return 0===e[0]});c?c[1]+=1:o.unshift([0,1]),t.tags[e]=i}),T(t)},M=function(){return Object(l.a)(".js-global-navigation")},N=function(){M().each(function(e){d.a.write(function(){Object(l.a)(".js-global-navigation__section--history",e).remove()})}),k=!1},L=function(e,n){return'<li class="inline-list__item">\n        <a href="/'.concat(e[0],'" class="button button--small button--tag button--secondary" data-link-name="').concat(n+1," | ").concat(e[1],'">').concat(e[1],"</a>\n    </li>")},B=function(){var e;if(!1!==j().showInMegaNav){k&&N();var n=A();n.length&&(e='<li class="global-navigation__section js-global-navigation__section--history" data-link-name="shortcuts">\n                        <span class="global-navigation__title global-navigation__title--history">recently visited</span>\n                        <ul class="global-navigation__children global-navigation__children--history">\n                            '.concat(n.map(L).join(""),'\n                            <a class="button button--small button--tag button--tertiary" href="/preferences" data-link-name="edit">edit these</a>\n                        </ul>\n                    </li>'),d.a.write(function(){M().prepend(e)}),k=!0)}},U=function(){return!1!==j().showInMegaNav},P=function(e){var n=j();n.showInMegaNav=e,n.showInMegaNav?B():N(),T(n)},D=function(e){if(!e.isFront){var n=p.a.get("gu.history.dailyArticleCount")||[];if(n[0]&&n[0].day&&n[0].day===w)n[0].count+=1;else{n.unshift({day:w,count:1});var t=w-60,i=n.findIndex(function(e){return e.day&&e.day<t});i>0&&n.splice(i)}p.a.set("gu.history.dailyArticleCount",n)}},H=function(e){if(!e.isFront){var n=p.a.get("gu.history.weeklyArticleCount")||[];if(n[0]&&n[0].week&&n[0].week===_)n[0].count+=1;else{n.unshift({week:_,count:1});var t=_-365,i=n.findIndex(function(e){return e.week&&e.week<t});i>0&&n.splice(i)}p.a.set("gu.history.weeklyArticleCount",n)}},G=function(e){var n=p.a.get("gu.history.weeklyArticleCount")||[],t=_-7*e,i=n.findIndex(function(e){return e.week&&e.week<=t});return(i>=0?n.slice(0,i):n).reduce(function(e,n){return n.count+e},0)}},61:function(e,n){e.exports={markup:'<span class="inline-marque-36 inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path fill="#000" d="M18 0a18 18 0 1 0 0 36 18 18 0 0 0 0-36"/><path fill="#FFF" d="M21.2 4.4c2.3.4 5.3 2 6.3 3.1v5.2H27L21.2 5v-.6zm-2.2.4c-4 0-6.3 5.6-6.3 13.2 0 7.7 2.2 13.3 6.3 13.3v.6c-6 .4-14.4-4.2-14-13.8A13.3 13.3 0 0 1 19 4v.7zm10.4 14.4l-1.9.9v8.6c-1 1-3.8 2.6-6.3 3.1V19.9l-2.2-.7v-.6h10.4v.6z"/></svg></span>'}},63:function(e,n,t){"use strict";t.d(n,"b",function(){return a}),t.d(n,"c",function(){return o}),t.d(n,"a",function(){return r});var i=t(3),r=function(e){var n=Object(i.d)();if(n){var t=Object(i.b)(n);return e.replace(/(support.theguardian.com)\/(contribute|subscribe)/,function(e,n,i){return"".concat(n,"/").concat(t.toLowerCase(),"/").concat(i)})}return e},a=function(){return r("https://support.theguardian.com/contribute")},o=function(){return"".concat(r("https://support.theguardian.com/subscribe"),"/digital")}},64:function(e,n,t){"use strict";t.d(n,"c",function(){return a}),t.d(n,"e",function(){return o}),t.d(n,"d",function(){return c}),t.d(n,"a",function(){return s}),t.d(n,"b",function(){return u});var i=t(1),r=function(e){return Object(i.a)("GU_mvt_id",String(e),365)},a=function(){return Number(Object(i.d)("GU_mvt_id"))},o=function(){Object(i.d)("GU_mvt_id")||Object(i.a)("GU_mvt_id","1")},c=function(){var e=parseInt(Object(i.d)("GU_mvt_id"),10);e&&r(1e6===e?1:e+1)},s=function(){var e=parseInt(Object(i.d)("GU_mvt_id"),10);e&&r(0===e?1e6:e-1)},u=function(){return Number(1e6)}},66:function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"d",function(){return a}),t.d(n,"c",function(){return c}),t.d(n,"b",function(){return s});var i=t(9),r=t(0).a.get("page.isDev")?"https://interactive.guim.co.uk/docsdata-test/19AGJYaPL8XpchykYlzqdKqNHxrHBILFktzM8vc5iShc.json":"https://interactive.guim.co.uk/docsdata/1IEVVHU5ZObCzyPV-BLQczaSzxe7pawLcH8_lvFD0Csk.json",a=function(e){return Object(i.a)(e,{mode:"cors"})},o=function(e,n){return a(e).then(function(e){return e.sheets[n]})},c=function(){return o("https://interactive.guim.co.uk/docsdata/1fy0JolB1bf1IEFLHGHfUYWx-niad7vR9K954OpTOvjE.json","control")},s=function(){return o("https://interactive.guim.co.uk/docsdata/1CIHCoe87hyPHosXx1pYeVUoohvmIqh9cC_kNlV-CMHQ.json","control")}},67:function(e,n,t){"use strict";t.d(n,"a",function(){return h}),t.d(n,"b",function(){return g}),t.d(n,"d",function(){return v}),t.d(n,"c",function(){return b});var i=t(28),r=t.n(i),a=t(2),o=t.n(a),c=t(20),s=t.n(c),u=t(0),d=t(274),l=t.n(d),p=t(275),m=t.n(p),f=t(72),h=function(e){return u.a.get("switches.ab".concat(e),!1)},g=function(e){return e.reduce(function(e,n){var t=n.id,i=n.variantToRun;return s()({},e,o()({},t,{variant:i.id}))},{})},v=function(e){var n=l()(e).filter(function(e){var n=r()(e,2),t=n[0];return n[1].variant===f.a&&function(e){return"NOT_FOUND"!==u.a.get("switches.ab".concat(e),"NOT_FOUND")}(t)});return m()(n)},b=function(e,n){var t=n[e.id];return t?t.variant===f.a?f.b:e.variants.find(function(e){return e.id===t.variant}):null}},72:function(e,n,t){"use strict";t.d(n,"c",function(){return i}),t.d(n,"a",function(){return r}),t.d(n,"b",function(){return a});var i="gu.ab.participations",r="notintest",a={id:r,test:function(){}}},83:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var i=t(0),r=t(3),a=t(12),o=t(160),c=t.n(o),s=function(e){var n=a.b?c.a.markup:"",t="US"===Object(r.g)(),o=i.a.get(t?"images.acquisitions.payment-methods-us":"images.acquisitions.payment-methods",""),s="Accepted payment methods: Visa, Mastercard, American Express ".concat(t?" Paypal, Diners Club and Discover":" and Paypal");return'<div class= "'.concat(e,'">\n        <img\n            src="').concat(o,'"\n            alt="').concat(s,'"\n        >\n        ').concat(n,"\n    </div>")}},90:function(e,n){e.exports={markup:'<span class="inline-arrow-white-right inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30"><path fill="#fff" d="M22.8 14.6L15.2 7l-.7.7 5.5 6.6H6v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9"/></svg></span>'}},94:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i=function(){}},97:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var i=t(3),r=t(46),a=t.n(r)()(function(){return Object(i.g)()}),o={id:"CommercialAppnexusUsAdapter",start:"2019-10-7",expiry:"2020-07-30",author:"Ioanna Kyprianou",description:"Test new us placement id for appnexus in US",audience:0,audienceOffset:0,successMeasure:"Appnexus adapter works in US",audienceCriteria:"n/a",dataLinkNames:"n/a",idealOutcome:"Appnexus adapter delivers in US",showForSensitive:!0,canRun:function(){return["US","CA"].includes(a())},variants:[{id:"control",test:function(){}},{id:"variant",test:function(){}}]}},98:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var i=t(3),r=t(46),a=t.n(r)()(function(){return Object(i.g)()}),o={id:"CommercialPangaeaAdapter",start:"2019-10-08",expiry:"2020-07-30",author:"Ioanna Kyprianou",description:"Test adding pangaea in prebid in US & AU regions",audience:0,audienceOffset:0,successMeasure:"Pangaea adapter works in prebid for US & AU regions",audienceCriteria:"n/a",dataLinkNames:"n/a",idealOutcome:"Pangaea adapter delivers in prebid for US & AU regions",showForSensitive:!0,canRun:function(){return["US","CA","AU","NZ"].includes(a())},variants:[{id:"control",test:function(){}},{id:"variant",test:function(){}}]}}}]);
//# sourceMappingURL=graun.commercial~enhanced.js.map